---
networks:
    net1:
        external_connectivity: no
        name: "data_s1"
        ip_address: "192.168.{{ data_net }}.254"
        netmask: "255.255.255.0"
    net2:
        external_connectivity: no
        name: "data_s2"
    net3:
        external_connectivity: yes
        name: "management_s1"
        ip_address: "172.16.{{ net }}.1"
        netmask: "255.255.255.0"
        forward: nat
        dhcp:
            range:
                start: "172.16.{{ net }}.2"
                end: "172.16.{{ net }}.100"
            subnet_cidr: "172.16.{{ net }}.0/24"
            subnet_gateway: "172.16.{{ net }}.1"
        floating_ip:
            start: "172.16.{{ net }}.101"
            end: "172.16.{{ net }}.150"
    net4:
        external_connectivity: no
        name: "management_s2"
    net5:
        external_connectivity: yes
        name: "external_s1"
        ipv6:
            ip_address: "2620:52:0:13b8::fe"
            prefix: "64"
            dhcp:
                range:
                    start: "2620:52:0:13b8::fe:1"
                    end: "2620:52:0:13b8::fe:ff"
        ip_address: "10.0.{{ net }}.1"
        netmask: "255.255.255.0"
        forward: nat
        dhcp:
            range:
                start: "10.0.{{ net }}.2"
                end: "10.0.{{ net }}.100"
            subnet_cidr: "10.0.{{ net }}.0/24"
            subnet_gateway: "10.0.{{ net }}.1"
        floating_ip:
            start: "10.0.{{ net }}.101"
            end: "10.0.{{ net }}.150"
    net6:
        external_connectivity: no
        name: "external_s2"

uplinks:
    data_s1_s2:
        peer: dict_s2_s1
        from: "data_s1"
        to: "data_s2"
        latency:
            out: 50
            in: 50
        rate: 1000
    mgmt_s1_s2:
        peer: mgmt_s2_s1
        from: "management_s1"
        to: "management_s2"
        latency:
            out: 50
            in: 50
    ext_s1_s2:
        peer: ext_s2_s1
        from: "external_s1"
        to: "external_s2"

nodes:
    default:
        interfaces:
            - network: "data_s1"
            - network: "management_s1"
            - network: "external_s1"
        external_network:
            network: "management_s1"
    compute:
        interfaces:
            - network: "data_s2"
            - network: "management_s2"
            - network: "external_s2"
        external_network:
            network: "management_s2"
