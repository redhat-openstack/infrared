[tox]
minversion = 2.3.1
envlist = py27,molecule
skipsdist = True

# info: to run individual tests/ testcase,
# you can provide extra '-k' argument to py.test like:
#  $ tox -e py27 -- -k interactive

[testenv]
basepython = python2
deps = -r{toxinidir}/test-requirements.txt
commands =
    # keep the cleanup here to avoid devs getting failures when running tox
    find . -type f -name "*.pyc" -delete
    find . -type d -name "__pycache__" -delete
sitepackages = True
whitelist_externals =
    bash
    find
    git
    /bin/bash
    /usr/bin/bash
    /usr/local/bin/bash
    make

[testenv:molecule]
skip_install = True
setenv =
    PIP_LOG={envdir}/log/pip-cli.log
commands =
    molecule test
