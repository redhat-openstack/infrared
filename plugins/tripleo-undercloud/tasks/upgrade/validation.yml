---
- fail:
      msg: "Upgrade is supported only for version 7, 9 and 10"
  when:
    - install.upgrade|default(false)
    - not (undercloud_version == "7")
    - not (undercloud_version == "9")
    - not (undercloud_version == "10")

- fail:
      msg: "Infrared support update for RHOSP from version 10."
  when:
    - install.get('update', {}).undercloud|default(false)
    - undercloud_version|openstack_release < 10
