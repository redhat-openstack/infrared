---
- fail:
      msg: "Upgrade is supported only for version 7, 8, 9 and 10"
  when:
    - install.upgrade|default(false)
    - not undercloud_version|openstack_release in [8, 9, 10, 11]

- fail:
      msg: "Infrared support update for RHOSP from version 10."
  when:
    - install.get('update', {}).undercloud|default(false)
    - undercloud_version|openstack_release < 10
