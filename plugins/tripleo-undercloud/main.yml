---
- name: Check for user input
  hosts: localhost
  tasks:
      - fail:
            msg: "Please provide either --version OR --images-task"
        when: not (install.version|default('') or install.images.task|default(''))

- name: Undercloud setup
  include: "{{ install_undercloud | default('undercloud.yml') }}"
  when: install.version|default('')
  tags: undercloud

- name: Setup OverCloud-images on the undercloud
  include: "{{ install_images | default('images.yml') }}"
  when: install.images.task|default('')
  tags: images
