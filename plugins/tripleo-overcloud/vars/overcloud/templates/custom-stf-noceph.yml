custom_templates:
  parameter_defaults:
      CeilometerQdrPublishEvents: true
      CeilometerQdrPublishMetrics: true
      CephStorageExtraConfig:
          tripleo::profile::base::metrics::collectd::amqp_host: '%{hiera(''storage'')}'
          tripleo::profile::base::metrics::qdr::listener_addr: '%{hiera(''storage'')}'
      CollectdAmqpInterval: 5
      CollectdConnectionType: amqp1
      CollectdDefaultPollingInterval: 5
      CollectdEnableLibpodstats: true
      CollectdEnableSensubility: true
      CollectdExtraPlugins:
      - vmem
      CollectdSensubilityLogLevel: DEBUG
      CollectdSensubilityTransport: amqp1
      ExtraConfig:
          ceilometer::agent::polling::polling_interval: 30
          ceilometer::agent::polling::polling_meters:
          - cpu
          - disk.*
          - ip.*
          - image.*
          - memory
          - memory.*
          - network.*
          - perf.*
          - port
          - port.*
          - switch
          - switch.*
          - storage.*
          - volume.*
          collectd::plugin::amqp1::send_queue_limit: 50
          collectd::plugin::cpu::reportbycpu: true
          collectd::plugin::virt::extra_stats: cpu_util disk vcpu
          collectd::plugin::virt::hostname_format: "name uuid hostname"
          collectd::plugin::virt::plugin_instance_format: name
          collectd::plugin::vmem::verbose: true
          collectd::plugin::memcached::instances:
            local:
              host: "%{hiera(fqdn_canonical)}"
              port: 11211
