tripleo_heat_templates:
    - "{{ install.heat.templates.basedir }}/environments/enable-stf.yaml"
custom_templates:
  parameter_defaults:
    CollectdEnableLibpodstats: true
    CollectdEnableSensubility: true
    CollectdSensubilityConnection: sealusa37.mobius.lab.eng.rdu2.redhat.com
    CollectdSensubilityTransport: amqp1
    CollectdSensubilityLogLevel: DEBUG
    CollectdAmqpInstances:
      osp161-notify:
        format: JSON
        notify: true
        presettle: false
      osp161-telemetry:
        format: JSON
        presettle: false
    CollectdAmqpInterval: 5
    CollectdConnectionType: amqp1
    CollectdDefaultPollingInterval: 5
    EnableSTF: true
    MetricsQdrSSLProfiles:
      - name: sslProfile
    ExtraConfig:
      'collectd::plugin::cpu::reportbycpu': true
      'collectd::plugin::vmem::verbose': true
      'collectd::plugin::amqp1::send_queue_limit': 50
      'collectd::plugin::virt::hostname_format': "hostname"
      'collectd::plugin::virt::plugin_instance_format': name
      'collectd::plugin::virt::extra_stats': cpu_util disk vcpu
    CollectdExtraPlugins:
      - vmem
    MetricsQdrConnectors:
      - host: '{{ stf_server_name }}'
        port: 443
        role: edge
        verifyHostname: false
        sslProfile: sslProfile
