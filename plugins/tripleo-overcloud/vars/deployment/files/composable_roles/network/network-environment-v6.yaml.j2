---
parameter_defaults:
{% if install.storage.protocol.backend == 'nfs-ganesha' %}
    StorageNFSNetCidr: 'fd00:fd00:fd00:7000::/64'
    StorageNFSNetworkVlanID: 70
    StorageNFSAllocationPools: [{'start': 'fd00:fd00:fd00:7000::10', 'end': 'fd00:fd00:fd00:7000::10:10'}]
{% endif %}
{% if not use_network_data|bool %}
    ExternalNetCidr: '2620:52:0:13b8::/64'
    ExternalAllocationPools: [{'start': '2620:52:0:13b8:5054:ff:fe3e:1', 'end': '2620:52:0:13b8:5054:ff:fe3e:aa'}]
    ExternalInterfaceDefaultRoute: 2620:52:0:13b8::fe
    InternalApiNetCidr: 'fd00:fd00:fd00:2000::/64'
    InternalApiAllocationPools: [{'start': 'fd00:fd00:fd00:2000::10', 'end': 'fd00:fd00:fd00:2000:aaaa:aaaa:ffff:fffe'}]
    StorageNetCidr: 'fd00:fd00:fd00:3000::/64'
    StorageAllocationPools: [{'start': 'fd00:fd00:fd00:3000::10', 'end': 'fd00:fd00:fd00:3000:aaaa:aaaa:ffff:fffe'}]
    StorageMgmtNetCidr: 'fd00:fd00:fd00:4000::/64'
    StorageMgmtAllocationPools: [{'start': 'fd00:fd00:fd00:4000::10', 'end': 'fd00:fd00:fd00:4000:aaaa:aaaa:ffff:fffe'}]
    TenantNetCidr: '172.17.2.0/24'
    TenantAllocationPools: [{'start': '172.17.2.10', 'end': '172.17.2.149'}]
    TenantNetworkVlanID: 50
{% else %}
# when using only network data, we use network-isolation (not
# network-isolation-v6) as per recommendation. But then those
# parameters are missing. Set it there.
    # Enable IPv6 for Ceph.
    CephIPv6: True
    # Enable IPv6 for Corosync. This is required when Corosync is using an IPv6 IP in the cluster.
    CorosyncIPv6: True
    # Enable various IPv6 features in Nova.
    NovaIPv6: True
    # Enable IPv6 environment for RabbitMQ.
    RabbitIPv6: True
    # Enable IPv6 environment for Memcached.
    MemcachedIPv6: True
    # Enable IPv6 environment for MySQL.
    MysqlIPv6: True
    # Enable IPv6 environment for Manila
    ManilaIPv6: True
    # Enable IPv6 environment for Redis.
{% endif %}
#    DnsServers: ["2620:52:0:13b8::fe"]
    DnsServers: ["10.0.0.1"]
    EC2MetadataIp: 192.168.24.1
{% if install.splitstack|default(False) %}
    ControlPlaneDefaultRoute: {{ ansible_host|default(ansible_ssh_host) }}
{% elif install.version|openstack_release < 16 %}
    ControlPlaneDefaultRoute: 192.168.24.1
{% endif %}
{% if not (install.ntp.pool|default(False) and install.version|openstack_release >= 15)  %}
    NtpServer: ["clock1.rdu2.redhat.com"]
{% endif %}
    NeutronBridgeMappings: "datacentre:br-ex,tenant:br-isolated"
    NeutronNetworkVLANRanges: "tenant:1000:2000"
