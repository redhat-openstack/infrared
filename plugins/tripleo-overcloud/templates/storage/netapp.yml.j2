resource_registry:
    OS::TripleO::ControllerExtraConfigPre: /usr/share/openstack-tripleo-heat-templates/puppet/extraconfig/pre_deploy/controller/cinder-netapp.yaml

parameter_defaults:
    CinderEnableIscsiBackend: false
    CinderEnableNetappBackend: true
    CinderNetappBackendName: 'tripleo_netapp'
    CinderNetappLogin: "{{ external_storage.netapp.CinderNetappLogin }}"
    CinderNetappPassword: "{{ external_storage.netapp.CinderNetappPassword }}"
    CinderNetappServerHostname: "{{ external_storage.netapp.CinderNetappServerHostname }}"
    CinderNetappServerPort: '80'
    CinderNetappSizeMultiplier: '1.2'
    CinderNetappStorageFamily: 'ontap_7mode'
    CinderNetappTransportType: 'http'
    CinderNetappEseriesHostType: ''
{%  if 'iscsi' in install.storage.backend %}
    CinderNetappStorageProtocol: 'iscsi'
    CinderNetappVolumeList: "{{ external_storage.netapp.CinderNetappVolumeList }}"
{%  elif 'nfs' in install.storage.backend %}
    CinderNetappStorageProtocol: 'nfs'
    CinderNetappVfiler: ''
    CinderNetappVolumeList: ''
    CinderNetappVserver: ''
    CinderNetappPartnerBackendName: ''
    CinderNetappNfsShares: "{{ external_storage.netapp.CinderNetappNfsShares }}"
    CinderNetappNfsSharesConfig: '/etc/cinder/shares.conf'
    CinderNetappNfsMountOptions: "{{ external_storage.netapp.CinderNetappNfsMountOptions }}"
{% endif %}
