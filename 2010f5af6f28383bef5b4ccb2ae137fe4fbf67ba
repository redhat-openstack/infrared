{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "1b860d0d_598a4c3f",
        "filename": "plugins/tripleo-overcloud/tasks/generate_baremetal_deployment.yml",
        "patchSetId": 17
      },
      "lineNbr": 79,
      "author": {
        "id": 1016110
      },
      "writtenOn": "2025-06-23T11:57:52Z",
      "side": 1,
      "message": "slurp? https://docs.ansible.com/ansible/latest/collections/ansible/builtin/slurp_module.html",
      "revId": "2010f5af6f28383bef5b4ccb2ae137fe4fbf67ba",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "351dacb8_0b8c89e9",
        "filename": "plugins/tripleo-overcloud/tasks/generate_baremetal_deployment.yml",
        "patchSetId": 17
      },
      "lineNbr": 79,
      "author": {
        "id": 1017989
      },
      "writtenOn": "2025-06-23T12:31:01Z",
      "side": 1,
      "message": "Ack, updated the section to use slurp instead of shell + cat\nTesting this latest patchset right now",
      "parentUuid": "1b860d0d_598a4c3f",
      "revId": "2010f5af6f28383bef5b4ccb2ae137fe4fbf67ba",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7743de02_46b1cd09",
        "filename": "plugins/tripleo-overcloud/tasks/generate_baremetal_deployment.yml",
        "patchSetId": 17
      },
      "lineNbr": 79,
      "author": {
        "id": 1017989
      },
      "writtenOn": "2025-06-24T02:56:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "351dacb8_0b8c89e9",
      "revId": "2010f5af6f28383bef5b4ccb2ae137fe4fbf67ba",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "20e95e10_0dd20c4c",
        "filename": "plugins/tripleo-overcloud/tasks/generate_baremetal_deployment.yml",
        "patchSetId": 17
      },
      "lineNbr": 92,
      "author": {
        "id": 1016110
      },
      "writtenOn": "2025-06-23T11:57:52Z",
      "side": 1,
      "message": "should we fail if \u0027profile: ceph-storage\u0027 in baremetal_deployment_contents.stdout is false?\n\n(I\u0027ve double checked and we can\u0027t simply ignore if insertbefore fails, because in that case the block is added at the end of the file. Which may work by accident or not",
      "revId": "2010f5af6f28383bef5b4ccb2ae137fe4fbf67ba",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7f541363_4eed66ac",
        "filename": "plugins/tripleo-overcloud/tasks/generate_baremetal_deployment.yml",
        "patchSetId": 17
      },
      "lineNbr": 92,
      "author": {
        "id": 1017989
      },
      "writtenOn": "2025-06-23T12:31:01Z",
      "side": 1,
      "message": "yes, I think we should fail if contents.stdout is false. This is because for contents.stdout to even be false, set-ceph-minimal-image must be set to true first. \n\nIf \u0027profile: ceph-storage\u0027 is not in baremetal_deployment_contents.stdout and set-ceph-minimal-image is true, then something has gone wrong (either a missing baremetal_deployment.yaml or there are no deployed ceph nodes) and the deployment should fail.\n\nI added a new section to fail when ceph-storage is not in baremetal_deployment.yaml",
      "parentUuid": "20e95e10_0dd20c4c",
      "revId": "2010f5af6f28383bef5b4ccb2ae137fe4fbf67ba",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a8fb9adb_040611e1",
        "filename": "plugins/tripleo-overcloud/tasks/generate_baremetal_deployment.yml",
        "patchSetId": 17
      },
      "lineNbr": 92,
      "author": {
        "id": 1017989
      },
      "writtenOn": "2025-06-24T02:56:12Z",
      "side": 1,
      "message": "Ok, the latest patchset passes testing, see here: https://rhos-ci-staging-jenkins.lab.eng.tlv2.redhat.com/job/DFG-all-unified-17.1_d-rhel-vhost-3cont_2comp_3ceph_1freeipa-ipv4-geneve-ceph-nfs-ganesha/17/artifact/.sh/06-ospd_overcloud_all.log\nMarking this thread as resolved, as the error handling has been addressed.",
      "parentUuid": "7f541363_4eed66ac",
      "revId": "2010f5af6f28383bef5b4ccb2ae137fe4fbf67ba",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}