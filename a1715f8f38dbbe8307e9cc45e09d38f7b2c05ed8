{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "4164238e_a319e4ea",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1010634
      },
      "writtenOn": "2022-03-29T08:48:59Z",
      "side": 1,
      "message": "osp17 gate broken currently",
      "revId": "a1715f8f38dbbe8307e9cc45e09d38f7b2c05ed8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "830f5610_527eb138",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1016438
      },
      "writtenOn": "2022-03-30T07:51:46Z",
      "side": 1,
      "message": "We are blocked without this patch ðŸ˜ž",
      "revId": "a1715f8f38dbbe8307e9cc45e09d38f7b2c05ed8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "01f6eef9_ed2b9270",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1010634
      },
      "writtenOn": "2022-03-30T14:54:33Z",
      "side": 1,
      "message": "as noticed in the gate job \n\nhttps://rhos-ci-jenkins.lab.eng.tlv2.redhat.com/job/compact-gate-puddle-17.0_director-rhel-9.0-virthost-3cont_2comp_3ceph-ipv4-geneve-ceph/40/artifact/.sh/03-irvirsh_provision.log/*view*/\n\nit turns stp to \"on\" even for our virtualized environments hence it would break our osp17/rhel9 introspection ... ",
      "revId": "a1715f8f38dbbe8307e9cc45e09d38f7b2c05ed8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "feb8ea9a_2768eca0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1010634
      },
      "writtenOn": "2022-03-30T14:58:01Z",
      "side": 1,
      "message": "we need a better way to find out that the machine is a baremetal using ansible ... last resort is that we could rely on each hosts membership in the inventory group (I presume you may have some \u0027baremetal\u0027 or similar ansible inventory group)",
      "revId": "a1715f8f38dbbe8307e9cc45e09d38f7b2c05ed8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e4e70c7d_fa2003a2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1005543
      },
      "writtenOn": "2022-03-30T15:11:53Z",
      "side": 1,
      "message": "Hi\n\nHaving STP off, breaks all OSP version.\n\nWe should enabled it , and check what is the issue with OSP 17 specific.\nWe do have customers using virt setups in production as well.( virtulaitzed overcloud)\nSTP is a safety system.",
      "parentUuid": "01f6eef9_ed2b9270",
      "revId": "a1715f8f38dbbe8307e9cc45e09d38f7b2c05ed8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e2125271_53d42c23",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1010634
      },
      "writtenOn": "2022-03-30T18:13:50Z",
      "side": 1,
      "message": "BZ#2061776",
      "parentUuid": "e4e70c7d_fa2003a2",
      "revId": "a1715f8f38dbbe8307e9cc45e09d38f7b2c05ed8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2fe51b80_f4c8898f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1005543
      },
      "writtenOn": "2022-03-31T06:07:11Z",
      "side": 1,
      "message": "I\u0027m looked at the bug, i\u0027m not sure why port forwarding is enabled on virsh machine \n\n[root@undercloud-0 ~]# cat /proc/sys/net/ipv4/ip_forward\n1",
      "parentUuid": "e2125271_53d42c23",
      "revId": "a1715f8f38dbbe8307e9cc45e09d38f7b2c05ed8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2bd263d5_a5a7ba3b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1019635
      },
      "writtenOn": "2022-04-01T04:10:59Z",
      "side": 1,
      "message": "Why not checking only if the host is a VM and if yes set STP to off.\nFor example:\n\n\u003cbridge name\u003d\"{{ item.value.name }}\"\n{% if item.value.forward|default(\u0027\u0027) !\u003d \u0027bridge\u0027 %}\n  stp\u003d\"{{ \u0027off\u0027 if ansible_facts[\u0027virtualization_role\u0027] \u003d\u003d \u0027guest\u0027 else \u0027on\u0027}}\"\n{% endif %}/\u003e\n",
      "revId": "a1715f8f38dbbe8307e9cc45e09d38f7b2c05ed8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "14dd52fa_f9a4686d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1018675
      },
      "writtenOn": "2022-04-03T08:12:10Z",
      "side": 1,
      "message": "I don\u0027t think there is a difference between what I added and this suggestion having that virtualization_role can be either guest or host. we can change it to your suggestion but I don\u0027t think it will solve the issue",
      "parentUuid": "2bd263d5_a5a7ba3b",
      "revId": "a1715f8f38dbbe8307e9cc45e09d38f7b2c05ed8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "be5f1f55_978b515d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1019635
      },
      "writtenOn": "2022-04-03T08:16:52Z",
      "side": 1,
      "message": "My suggestion is only setting stp to off if  \u0027virtualization_role\u0027 \u003d\u003d \u0027guest\u0027 and for other(s) (you named it) to on.\nI don\u0027t mention \u0027host\u0027 or any non VM type because we only need to set if to off for VM - that is \u0027guest\u0027",
      "parentUuid": "14dd52fa_f9a4686d",
      "revId": "a1715f8f38dbbe8307e9cc45e09d38f7b2c05ed8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}