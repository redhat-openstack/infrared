{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "800c9bdd_f3378c5a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1005097
      },
      "writtenOn": "2021-12-17T14:40:01Z",
      "side": 1,
      "message": "https://issues.redhat.com/browse/RHOSINFRA-4353",
      "revId": "f4bdc675cf4c304946cdbcfb7a7bb78d496674a0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "420913cb_4099ecdb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1017759
      },
      "writtenOn": "2022-02-07T08:07:26Z",
      "side": 1,
      "message": "I\u0027m afraid that the creation of docker-images.yaml should be removed as it is obsolete (RHOSINFRA-4409)",
      "revId": "f4bdc675cf4c304946cdbcfb7a7bb78d496674a0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2b766358_45e737e1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1005097
      },
      "writtenOn": "2022-02-09T09:32:31Z",
      "side": 1,
      "message": "We agreed we should not change the behaviour of the CI/automation of released OSPs as otherwise we would break our consistency. For that reason, we can only change what is currently in devel, which means workflow for OSP17 deployment, though I understand this being kept for OSP16.X was a mistake made before.",
      "parentUuid": "420913cb_4099ecdb",
      "revId": "f4bdc675cf4c304946cdbcfb7a7bb78d496674a0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a7b41a80_19d62e01",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1005097
      },
      "writtenOn": "2022-02-09T09:32:31Z",
      "side": 1,
      "message": "Verified by http://staging-jenkins2-qe-playground.usersys.redhat.com/job/phase1-17.0_compact-director-rhel-8.4-virthost-1cont_1comp_1ceph-ipv4-geneve-ceph-fhubik-devel/ builds 13 and 14 with this and also https://review.gerrithub.io/c/redhat-openstack/infrared/+/531129 cherrypicked.",
      "revId": "f4bdc675cf4c304946cdbcfb7a7bb78d496674a0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ad0386a9_4e9bc8ad",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1005097
      },
      "writtenOn": "2022-02-09T09:32:58Z",
      "side": 1,
      "message": "recheck",
      "revId": "f4bdc675cf4c304946cdbcfb7a7bb78d496674a0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8b41d6ff_6003c158",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1005097
      },
      "writtenOn": "2022-02-09T10:02:08Z",
      "side": 1,
      "message": "Temporary -2, just realized there might be still a few options to test before this can proceed (various cherrypicking).",
      "revId": "f4bdc675cf4c304946cdbcfb7a7bb78d496674a0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bb4e4fe4_8a9aa52f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1017759
      },
      "writtenOn": "2022-02-09T12:00:23Z",
      "side": 1,
      "message": "I\u0027m afraid that you need to alter patch_images_tripleo-modify-image.yml as well, as there is similar task that might create docker-image.yaml as well (line 75)",
      "revId": "f4bdc675cf4c304946cdbcfb7a7bb78d496674a0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "284b644e_9a06538b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1005097
      },
      "writtenOn": "2022-02-11T15:08:49Z",
      "side": 1,
      "message": "recheck",
      "revId": "f4bdc675cf4c304946cdbcfb7a7bb78d496674a0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dcfa7e5c_37ffec10",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1005097
      },
      "writtenOn": "2022-02-11T19:22:16Z",
      "side": 1,
      "message": "I saw work with the file also in override_container_images_urls.yml, cloud-config/tasks/scale/up/normal_flow.yml, tripleo-upgrade and various other places.\n\nIn the case of patch_images_tripleo-modify-image.yml it seems to be necesarry to involve the \"containers-prepare-parameter-copy.yaml\" file produced as part of that playbook patching the containers... Or no? Maybe we  can really remove (meaning scoping it for 17 only) a see whether someone compains as hopefully in that it is already part of overcloud_deploy.sh and these are just historical remains?\n\nI am just hesitant to remove more of such code as I am not sure whether some parts of the patching/other workflows wont fail on that file missing...",
      "parentUuid": "bb4e4fe4_8a9aa52f",
      "revId": "f4bdc675cf4c304946cdbcfb7a7bb78d496674a0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d6123b51_6d166d77",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1005097
      },
      "writtenOn": "2022-02-14T10:55:40Z",
      "side": 1,
      "message": "recheck",
      "revId": "f4bdc675cf4c304946cdbcfb7a7bb78d496674a0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0a1707d5_ec14254e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1005097
      },
      "writtenOn": "2022-02-14T10:56:17Z",
      "side": 1,
      "message": "rechec.king as unsure whether the osp gate failures are related to this or possible problems with registries?",
      "revId": "f4bdc675cf4c304946cdbcfb7a7bb78d496674a0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "134b6b20_f4c98a24",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1005097
      },
      "writtenOn": "2022-02-15T11:16:33Z",
      "side": 1,
      "message": "Tuvya removed his -1 is we agreed internally we will just remove this occurence  and since we don\u0027t know the patch_images.yml and patch_images_tripleo-modify-image.yml workflows well, well just add related contributors to CC and keep eventual following changes to their advisement as neither of us are sure how docker-images.yaml affects these...",
      "revId": "f4bdc675cf4c304946cdbcfb7a7bb78d496674a0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "96499a3e_70cc5e68",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1016373
      },
      "writtenOn": "2022-02-15T11:33:27Z",
      "side": 1,
      "message": "I do not understand why it is rem",
      "revId": "f4bdc675cf4c304946cdbcfb7a7bb78d496674a0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d6ce7508_2f709801",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1016373
      },
      "writtenOn": "2022-02-15T11:33:27Z",
      "side": 1,
      "message": "I think this patch will break NFV jobs. We use --repos-urls and --update_repo options in our jobs to update from FDP repo. docker-images.yaml is generated and we use this file in our overcloud_deploy.sh file in order to use the updated containers instead of the original ones in the deployment.\nI do not understand why this option is removed",
      "parentUuid": "134b6b20_f4c98a24",
      "revId": "f4bdc675cf4c304946cdbcfb7a7bb78d496674a0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ece3f1e0_d140f75c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1005097
      },
      "writtenOn": "2022-02-15T13:52:20Z",
      "side": 1,
      "message": "@Miguel: \nFrom https://issues.redhat.com/browse/RHOSINFRA-4353 there is https://issues.redhat.com/browse/RHOSINFRA-4274 where Alex mentioned:\n\n...Additionally please update infrared to stop including /home/stack/virt/docker-images.yaml as that negates the containers-prepare-parameters.yaml and was an artifact of OSP13 and should not be used in OSP16+\n\nwe need to remove this soon as part of OSP17 techdebt removal https://issues.redhat.com/browse/RHOSINFRA-4353 .\n\nIf DFGs still need it as of container-patching playbooks, maybe it can be done as follow up patch reintroducing this option conditionally, or using the file containers-prepare-parameter.yaml if possible?",
      "parentUuid": "d6ce7508_2f709801",
      "revId": "f4bdc675cf4c304946cdbcfb7a7bb78d496674a0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2fb683da_8b25239b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1016373
      },
      "writtenOn": "2022-02-15T14:04:54Z",
      "side": 1,
      "message": "@Filip\nif someone uses options --repos-urls and --update_repo  to update packages in overcloud images, will it work if  we remove docker-images.yaml? Which modification should i do in my job if docker-images.yaml is missing?\nI think this change will also break FDP job for neutron DFG.",
      "parentUuid": "ece3f1e0_d140f75c",
      "revId": "f4bdc675cf4c304946cdbcfb7a7bb78d496674a0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6d7eb906_85c34161",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1016110
      },
      "writtenOn": "2022-02-15T14:11:10Z",
      "side": 1,
      "message": "Please check the explanation: that file should not be generated and should not be included, there is no \"if\". Please get in contact with tripleo people to get an idea on how to solve your problem.",
      "parentUuid": "d6ce7508_2f709801",
      "revId": "f4bdc675cf4c304946cdbcfb7a7bb78d496674a0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "39b188d1_ac9e433e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1016110
      },
      "writtenOn": "2022-02-15T14:11:10Z",
      "side": 1,
      "message": "No, we didn\u0027t agree on anything. Again, the developer of the component say we are using the workflow incorrectly. Infrared steps are incorrect right now, this is a bug and must (not can) be fixed, or the confidence in CI results is going to be low. Past errors can and must be fixed, not stay forever.",
      "parentUuid": "2b766358_45e737e1",
      "revId": "f4bdc675cf4c304946cdbcfb7a7bb78d496674a0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eca5af17_f281a839",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1016950
      },
      "writtenOn": "2022-02-15T14:13:40Z",
      "side": 1,
      "message": "I can confirm that neutron DFG actively uses this feature for early testing FDP releases with OSP puddles.",
      "parentUuid": "2fb683da_8b25239b",
      "revId": "f4bdc675cf4c304946cdbcfb7a7bb78d496674a0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8e596845_a248857d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1016373
      },
      "writtenOn": "2022-02-15T14:22:41Z",
      "side": 1,
      "message": "@Luigi Toscano\n--repos-urls and --update_repo are not tripleo parameters. They are infrared parameters. The feature of updating packages in containers is provided by infrared. If docker-images.yaml is removed, how to tell overcloud to use the patched version of the containers instead of the original ones?\nDo you know anyone that could help here?",
      "parentUuid": "eca5af17_f281a839",
      "revId": "f4bdc675cf4c304946cdbcfb7a7bb78d496674a0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0457b5d8_3c654f12",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1005097
      },
      "writtenOn": "2022-02-15T14:27:45Z",
      "side": 1,
      "message": "Ok let me rephrase so we can stay on the main topic here. Me and Tuvya agreed internally that that we plan to touch only build_images.yml file and not files related to patching components, that\u0027s why CCs were added to be aware.\n\nAlso, this not about the https://post-office.corp.redhat.com/archives/rhos-infrared/2022-February/msg00028.html topic which is still open, its just about the technical debt removal for OSP17 and OSP17 only, which is the scope of this review as referenced in the commit msg (https://issues.redhat.com/browse/RHOSINFRA-4353), nothing more. Lets keep the context here narrow and other/following changes to other reviews.",
      "parentUuid": "39b188d1_ac9e433e",
      "revId": "f4bdc675cf4c304946cdbcfb7a7bb78d496674a0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9bb38649_2411281f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1005097
      },
      "writtenOn": "2022-02-15T14:27:45Z",
      "side": 1,
      "message": "@Miguel - I simply dont know nor can guess as explained above. That\u0027s why I included several CCs to be aware that in OSP17 context this needs to be done, soon, so people using related playbooks or this functionality directly can prepare.",
      "parentUuid": "6d7eb906_85c34161",
      "revId": "f4bdc675cf4c304946cdbcfb7a7bb78d496674a0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b2e3f897_852c2e0d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1016373
      },
      "writtenOn": "2022-02-15T14:32:30Z",
      "side": 1,
      "message": "@Filip, I think compatibility should not be broken. Maybe it can be removed in osp17 if things are done in a different way, but it should be kept in previous versions. If it is removed in previous versions, there must be an answer on how we should fix our jobs.",
      "parentUuid": "9bb38649_2411281f",
      "revId": "f4bdc675cf4c304946cdbcfb7a7bb78d496674a0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a3acfcfc_6b4753c7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1016373
      },
      "writtenOn": "2022-02-15T14:39:46Z",
      "side": 1,
      "message": "@Filip, sorry, I misunderstood the change. I thought that the file had been removed for all osp versions, but i see that it has been removed only for osp17, so, there is no problem from my side",
      "parentUuid": "b2e3f897_852c2e0d",
      "revId": "f4bdc675cf4c304946cdbcfb7a7bb78d496674a0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "70aaf3af_61979c89",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1016110
      },
      "writtenOn": "2022-02-15T14:57:30Z",
      "side": 1,
      "message": "Yes, this change is just for 17. But please note that even for the older versions (16.x) tripleo people said it shouldn\u0027t be used, so you may want to investigate the alternative with them.",
      "parentUuid": "a3acfcfc_6b4753c7",
      "revId": "f4bdc675cf4c304946cdbcfb7a7bb78d496674a0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}