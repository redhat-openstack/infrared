{
  "comments": [
    {
      "key": {
        "uuid": "2742208c_e6f73227",
        "filename": "plugins/tripleo-overcloud/introspect.yml",
        "patchSetId": 1
      },
      "lineNbr": 216,
      "author": {
        "id": 1005418
      },
      "writtenOn": "2018-10-16T18:28:12Z",
      "side": 1,
      "message": "You can avoid the shell for loop with something like: \n\n        shell: |\n            source ~/stackrc\n            NODE_UUID\u003d$({{ ironic_cli }} | awk \u0027/{{ item.name | default(item) }}/ {print $2}\u0027 )\n            openstack baremetal node set --deploy-interface direct ${NODE_UUID}\n        with_items: \"{{ groups[\u0027overcloud_nodes\u0027] | default([])}}\"",
      "range": {
        "startLine": 212,
        "startChar": 0,
        "endLine": 216,
        "endChar": 16
      },
      "revId": "7bf813ac0786994bcc323f561125fefaf192958a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a26204bc_3a62eaa0",
        "filename": "plugins/tripleo-overcloud/plugin.spec",
        "patchSetId": 1
      },
      "lineNbr": 733,
      "author": {
        "id": 1005418
      },
      "writtenOn": "2018-10-16T18:28:12Z",
      "side": 1,
      "message": "You could make this a multiple choice entry(to avoid hardcoding the deploy interface type in the parameter name - in case the default changes in the future) with something like:\n\nironic_deploy_interface:\n    type: Value\n    default: iscsi\n    choices:\n        - direct\n        - iscsi\n\nand adjust the condition to:\nwhen: install.ironic_deploy_interface !\u003d \u0027iscsi\u0027",
      "range": {
        "startLine": 728,
        "startChar": 0,
        "endLine": 733,
        "endChar": 36
      },
      "revId": "7bf813ac0786994bcc323f561125fefaf192958a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}