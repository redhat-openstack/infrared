{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "411a454b_9c219f92",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1015563
      },
      "writtenOn": "2022-02-10T20:47:45Z",
      "side": 1,
      "message": "I\u0027m happy with the reponse to my questions.\nLGTM.",
      "revId": "f704dc07341d4af5383cc155b593052f0ef695fd",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a7530d78_59e8ccc8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1005097
      },
      "writtenOn": "2022-02-16T15:56:49Z",
      "side": 1,
      "message": "+added Alexander",
      "revId": "f704dc07341d4af5383cc155b593052f0ef695fd",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ea96a4ea_502bc89e",
        "filename": "plugins/tripleo-overcloud/tasks/network.yml",
        "patchSetId": 1
      },
      "lineNbr": 90,
      "author": {
        "id": 1015563
      },
      "writtenOn": "2022-02-10T15:35:32Z",
      "side": 1,
      "message": "Is this needed when we have:\nhttps://github.com/redhat-openstack/infrared/blob/master/plugins/tripleo-overcloud/templates/overcloud_deploy.sh.j2#L32",
      "range": {
        "startLine": 86,
        "startChar": 4,
        "endLine": 90,
        "endChar": 87
      },
      "revId": "f704dc07341d4af5383cc155b593052f0ef695fd",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "248b8c30_00fba56c",
        "filename": "plugins/tripleo-overcloud/tasks/network.yml",
        "patchSetId": 1
      },
      "lineNbr": 90,
      "author": {
        "id": 1006843
      },
      "writtenOn": "2022-02-10T20:39:50Z",
      "side": 1,
      "message": "It\u0027s probably not needed for OSP17 since It\u0027s added in the template you linked but The file network_data.yaml is not added for OSP \u003c 17 in that template. It seems to be added in this code in the case OSP \u003c 17 and customized network data file is defined with --network-data-file Infrared option. My intention was to do minimal changes without breaking anything for previous releases. It should not hurt much if the same line is added by lineinfile task once It\u0027s present It shouldn\u0027t be added one more time.",
      "parentUuid": "ea96a4ea_502bc89e",
      "range": {
        "startLine": 86,
        "startChar": 4,
        "endLine": 90,
        "endChar": 87
      },
      "revId": "f704dc07341d4af5383cc155b593052f0ef695fd",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d526680f_2ea5b438",
        "filename": "plugins/tripleo-overcloud/tasks/network.yml",
        "patchSetId": 1
      },
      "lineNbr": 90,
      "author": {
        "id": 1015563
      },
      "writtenOn": "2022-02-10T20:47:45Z",
      "side": 1,
      "message": "ok, this makes sense.",
      "parentUuid": "248b8c30_00fba56c",
      "range": {
        "startLine": 86,
        "startChar": 4,
        "endLine": 90,
        "endChar": 87
      },
      "revId": "f704dc07341d4af5383cc155b593052f0ef695fd",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dd0162f2_f31cf3cc",
        "filename": "plugins/tripleo-overcloud/tasks/network.yml",
        "patchSetId": 1
      },
      "lineNbr": 96,
      "author": {
        "id": 1015563
      },
      "writtenOn": "2022-02-10T15:35:32Z",
      "side": 1,
      "message": "What adds it in the first place?\nThe network_data_file is not a Heat environment file, so it should never be included as one.",
      "range": {
        "startLine": 92,
        "startChar": 0,
        "endLine": 96,
        "endChar": 74
      },
      "revId": "f704dc07341d4af5383cc155b593052f0ef695fd",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c80e799c_b9dd201c",
        "filename": "plugins/tripleo-overcloud/tasks/network.yml",
        "patchSetId": 1
      },
      "lineNbr": 96,
      "author": {
        "id": 1006843
      },
      "writtenOn": "2022-02-10T20:39:50Z",
      "side": 1,
      "message": "tbh I am not really sure how It gets in the overcloud deploy cli, but I did see it there. The only way I can see it getting there is in the case customized templates directory is specified (which includes network_data.yaml) and in such case all templates inside the directory are added to overcloud deploy command line.\nNo idea why It is handled this way. I just tried to do minimum changes to make it work for OSP17 + customized network_data.yaml file. Probably some wider refactoring would be nice but that would require some testing.",
      "parentUuid": "dd0162f2_f31cf3cc",
      "range": {
        "startLine": 92,
        "startChar": 0,
        "endLine": 96,
        "endChar": 74
      },
      "revId": "f704dc07341d4af5383cc155b593052f0ef695fd",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "354d415c_3acd4557",
        "filename": "plugins/tripleo-overcloud/tasks/network.yml",
        "patchSetId": 1
      },
      "lineNbr": 96,
      "author": {
        "id": 1015563
      },
      "writtenOn": "2022-02-10T20:47:45Z",
      "side": 1,
      "message": "ack, I see there is a discussion on rhos-dev regarding branching and major cleanup.\n\nAdding network_data.yaml as env is plain wrong ... but I agree refactoring that bit should be a different patch.\n\nIf you do another revision, add a TODO comment?",
      "parentUuid": "c80e799c_b9dd201c",
      "range": {
        "startLine": 92,
        "startChar": 0,
        "endLine": 96,
        "endChar": 74
      },
      "revId": "f704dc07341d4af5383cc155b593052f0ef695fd",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bba7e3fe_e03f68fb",
        "filename": "plugins/tripleo-overcloud/tasks/network.yml",
        "patchSetId": 1
      },
      "lineNbr": 96,
      "author": {
        "id": 1006843
      },
      "writtenOn": "2022-02-10T20:53:38Z",
      "side": 1,
      "message": "\u003e if you do another revision, add a TODO comment?\nI\u0027ll do, thanks for the review",
      "parentUuid": "354d415c_3acd4557",
      "range": {
        "startLine": 92,
        "startChar": 0,
        "endLine": 96,
        "endChar": 74
      },
      "revId": "f704dc07341d4af5383cc155b593052f0ef695fd",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ae69d323_aac54856",
        "filename": "plugins/tripleo-overcloud/tasks/network.yml",
        "patchSetId": 1
      },
      "lineNbr": 96,
      "author": {
        "id": 1005097
      },
      "writtenOn": "2022-02-16T15:56:49Z",
      "side": 1,
      "message": "network_data.yaml seems to be created on various places, for example plugins/tripleo-overcloud/build_templates.yml and plugins/tripleo-overcloud/tasks/network/custom_network_names.yml . Originally introduced by Alexander by https://github.com/redhat-openstack/infrared/commit/0fa6048a8f7a54c16bf986dbd084cc15e2092ae1 , documented in plugins/tripleo-overcloud/plugin.spec .\n\n\u003eAdding network_data.yaml as env is plain wrong\nNot sure, it doesn\u0027t seem to be \"wrong\" since it is overriding existing THT template...\n\nAd major cleanup, imho that will not be done for older releases, maybe for the current one/newer ones as risk of breakage would be too high. So I agree with the \"minimal change for OSP17\" approach.",
      "parentUuid": "bba7e3fe_e03f68fb",
      "range": {
        "startLine": 92,
        "startChar": 0,
        "endLine": 96,
        "endChar": 74
      },
      "revId": "f704dc07341d4af5383cc155b593052f0ef695fd",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}