{
  "comments": [
    {
      "key": {
        "uuid": "41be7af1_ce333dc3",
        "filename": "plugins/tripleo-undercloud/plugin.spec",
        "patchSetId": 11
      },
      "lineNbr": 82,
      "author": {
        "id": 1005418
      },
      "writtenOn": "2018-07-10T21:56:39Z",
      "side": 1,
      "message": "It should be used like this: --undercloud-extra-args\u003d\u0027--use-heat\u0027",
      "range": {
        "startLine": 82,
        "startChar": 32,
        "endLine": 82,
        "endChar": 66
      },
      "revId": "a8ac36f27dc912764f71d8d5c0f0418ba16475e3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f37f490a_cff46194",
        "filename": "plugins/tripleo-undercloud/templates/undercloud.conf.j2",
        "patchSetId": 11
      },
      "lineNbr": 1,
      "author": {
        "id": 1005097
      },
      "writtenOn": "2018-07-11T09:33:29Z",
      "side": 1,
      "message": "Note: Such dramatic changes to undercloud.conf shoudln\u0027t be coupled in 1 patch with UC containerization. I would split it into 2 since uc.conf have to pass trhu risk gates first, otherwise they can break everything in downstream RHOS CI!",
      "revId": "a8ac36f27dc912764f71d8d5c0f0418ba16475e3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4af46f15_0c737e2e",
        "filename": "plugins/tripleo-undercloud/templates/undercloud.conf.j2",
        "patchSetId": 11
      },
      "lineNbr": 1,
      "author": {
        "id": 1012293
      },
      "writtenOn": "2018-07-11T15:07:04Z",
      "side": 1,
      "message": "Agree, currently, it does fail for OSP 14 in my testing. That is because the templates for containerized UC are missing in our docker registry.\nI\u0027ll see how I can split into two with incremental changes.",
      "parentUuid": "f37f490a_cff46194",
      "revId": "a8ac36f27dc912764f71d8d5c0f0418ba16475e3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4e3f547c_dde73332",
        "filename": "plugins/tripleo-undercloud/templates/undercloud.conf.j2",
        "patchSetId": 11
      },
      "lineNbr": 1,
      "author": {
        "id": 1005097
      },
      "writtenOn": "2018-07-12T08:42:20Z",
      "side": 1,
      "message": "Just saying, in current form this will affect (not only) all RHOS CI deployments and basically all IR deployments, it is mandatory to test it also for all of {OSP|OSP\u003c\u003d13} deployments, that might take weeks maybe months.\n\nMaybe the best solution here would be (not sure if possible):\n1 review - additions/refactoring for OSP14 uc.conf\n2 review - adjust/refactor OSP\u003c\u003d13 uc.conf\u0027s (are they really needed?)\n3 review - conteinerized UC for 14\n\nwith smallest possible impact on deployments that can be (must be) controlled.",
      "parentUuid": "4af46f15_0c737e2e",
      "revId": "a8ac36f27dc912764f71d8d5c0f0418ba16475e3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4b0da545_74657660",
        "filename": "plugins/tripleo-undercloud/templates/undercloud.conf.j2",
        "patchSetId": 11
      },
      "lineNbr": 47,
      "author": {
        "id": 1005097
      },
      "writtenOn": "2018-07-11T09:33:29Z",
      "side": 1,
      "message": "duplicate of L#33?",
      "revId": "a8ac36f27dc912764f71d8d5c0f0418ba16475e3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ad314d80_2fae9d72",
        "filename": "plugins/tripleo-undercloud/templates/undercloud.conf.j2",
        "patchSetId": 11
      },
      "lineNbr": 47,
      "author": {
        "id": 1012293
      },
      "writtenOn": "2018-07-11T15:07:04Z",
      "side": 1,
      "message": "No, those fall under [Default] and these under [ctlplane-subnet] sections.",
      "parentUuid": "4b0da545_74657660",
      "revId": "a8ac36f27dc912764f71d8d5c0f0418ba16475e3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "727b1e7b_023219da",
        "filename": "plugins/tripleo-undercloud/templates/undercloud.conf.j2",
        "patchSetId": 11
      },
      "lineNbr": 48,
      "author": {
        "id": 1005097
      },
      "writtenOn": "2018-07-11T09:33:29Z",
      "side": 1,
      "message": "ditto",
      "revId": "a8ac36f27dc912764f71d8d5c0f0418ba16475e3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1f803424_91ac821c",
        "filename": "plugins/tripleo-undercloud/templates/undercloud_ospdui.conf",
        "patchSetId": 11
      },
      "lineNbr": 22,
      "author": {
        "id": 1005097
      },
      "writtenOn": "2018-07-11T09:33:29Z",
      "side": 1,
      "message": "undercloud_admin_host has potential to affect (not only) all SSL jobs \u003e\u003d11, definitely candidate for risk gates.\n\nWhat is the reasoning to add such option to \u003e\u003d 11?\n\nI am confused how this looks like for these deployments then, this config will look like (11-12):\nlocal_ip \u003d 192.168.24.1/24\nundercloud_public_host \u003d 192.168.24.2\nundercloud_admin_host \u003d 192.168.24.3\nEOF\n\nThere is no need for dhcp*, inspection* admin_vip variables here anymore?",
      "revId": "a8ac36f27dc912764f71d8d5c0f0418ba16475e3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fad4e188_42f018a8",
        "filename": "plugins/tripleo-undercloud/templates/undercloud_ospdui.conf",
        "patchSetId": 11
      },
      "lineNbr": 22,
      "author": {
        "id": 1012293
      },
      "writtenOn": "2018-07-11T15:07:04Z",
      "side": 1,
      "message": "The patchset seems to be messed up, I\u0027ll fix we need those variables.",
      "parentUuid": "1f803424_91ac821c",
      "revId": "a8ac36f27dc912764f71d8d5c0f0418ba16475e3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7b4e1c1f_1688bb0a",
        "filename": "plugins/tripleo-undercloud/templates/undercloud_ospdui.conf",
        "patchSetId": 11
      },
      "lineNbr": 40,
      "author": {
        "id": 1005097
      },
      "writtenOn": "2018-07-11T09:33:29Z",
      "side": 1,
      "message": "Masquerade shoudln\u0027t be enabled by default, we have external OC networks for outside access. This should (and is) only enabled explicitely by custom UC config (http://rhos-qe-mirror-qeos.usersys.redhat.com/cgit/rhos-infrared/tree/settings/installer/ospd/deployment/rhos-qe-06-10-uc-routed/undercloud.conf) or it can be new IR param.\n\nFor UI it might have sense to have it directly here, so I am just keeping this comment as FTR.",
      "range": {
        "startLine": 39,
        "startChar": 0,
        "endLine": 40,
        "endChar": 43
      },
      "revId": "a8ac36f27dc912764f71d8d5c0f0418ba16475e3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "72dc63af_b43da835",
        "filename": "plugins/tripleo-undercloud/templates/undercloud_ospdui.conf",
        "patchSetId": 11
      },
      "lineNbr": 40,
      "author": {
        "id": 1012293
      },
      "writtenOn": "2018-07-11T15:07:04Z",
      "side": 1,
      "message": "I did have a question about this, but as per official docs it is enabled by default for the above subnets- https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/13/html/director_installation_and_usage/installing-the-undercloud#configuring-the-director \n\nBtw.. also by specifying masquerade_network \u003d 192.168.24.0/24 we intend to set masquerade \u003d true imo",
      "parentUuid": "7b4e1c1f_1688bb0a",
      "range": {
        "startLine": 39,
        "startChar": 0,
        "endLine": 40,
        "endChar": 43
      },
      "revId": "a8ac36f27dc912764f71d8d5c0f0418ba16475e3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bca0f57f_cd21ed8d",
        "filename": "plugins/tripleo-undercloud/templates/undercloud_ospdui.conf",
        "patchSetId": 11
      },
      "lineNbr": 40,
      "author": {
        "id": 1005097
      },
      "writtenOn": "2018-07-12T08:42:20Z",
      "side": 1,
      "message": "That might be, I am just trying to revisit why it is needed in default install without external traffic routed thru UC explicitely.",
      "parentUuid": "72dc63af_b43da835",
      "range": {
        "startLine": 39,
        "startChar": 0,
        "endLine": 40,
        "endChar": 43
      },
      "revId": "a8ac36f27dc912764f71d8d5c0f0418ba16475e3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9d4dc3d3_6a07aec1",
        "filename": "plugins/tripleo-undercloud/templates/undercloud_ospdui.conf",
        "patchSetId": 11
      },
      "lineNbr": 40,
      "author": {
        "id": 1005418
      },
      "writtenOn": "2018-07-12T16:25:29Z",
      "side": 1,
      "message": "That\u0027s been enabled since forever. It\u0027s mainly required for non-controller nodes to have external connectivity(compute nodes aren\u0027t connected to external network that controllers are).",
      "parentUuid": "bca0f57f_cd21ed8d",
      "range": {
        "startLine": 39,
        "startChar": 0,
        "endLine": 40,
        "endChar": 43
      },
      "revId": "a8ac36f27dc912764f71d8d5c0f0418ba16475e3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f3b56db2_5ea539cc",
        "filename": "plugins/tripleo-undercloud/templates/undercloud_ospdui.conf",
        "patchSetId": 11
      },
      "lineNbr": 40,
      "author": {
        "id": 1005097
      },
      "writtenOn": "2018-07-17T14:03:03Z",
      "side": 1,
      "message": "Yes, reason why I am trying to revisit this option is because I remeber controversies around this (if I recall https://bugzilla.redhat.com/show_bug.cgi?id\u003d1543580 and docker).\n\nI did little tinkering, looks like masquerade_network \u003d 192.168.24.0/24 is enabled by default no matter what and this default ignores \"masquerade \u003d false\" (DEFAULT/ctlplane-subnet sections) in my deployments (https://rhos-qe-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/job/phase-customized/443/parameters/) - not sure whether bug/feature ;)\n\nBut my main Q is, theoretically, shoudn\u0027t be director able to deploy all OC nodes during OC deployment without external connectivity provided for them by default? I assumed this is only needed for updates/upgrades-type of deployments since their nodes need to obtain packages from external sources?",
      "parentUuid": "9d4dc3d3_6a07aec1",
      "range": {
        "startLine": 39,
        "startChar": 0,
        "endLine": 40,
        "endChar": 43
      },
      "revId": "a8ac36f27dc912764f71d8d5c0f0418ba16475e3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    }
  ]
}