resource_registry:
    OS::TripleO::ControllerExtraConfigPre: /usr/share/openstack-tripleo-heat-templates/puppet/extraconfig/pre_deploy/controller/cinder-netapp.yaml

parameter_defaults:
    CinderEnableIscsiBackend: false
    CinderEnableNetappBackend: true
    CinderNetappServerPort: '80'
    CinderNetappSizeMultiplier: '1.2'
    CinderNetappStorageFamily: 'ontap_7mode'
    CinderNetappTransportType: 'http'

{%  if 'iscsi' in installer.storage.backend %}
    CinderNetappBackendName: 'tripleo_netapp_iscsi'
    CinderNetappStorageProtocol: 'iscsi'
{%  elif 'nfs' in installer.storage.backend %}
    CinderNetappBackendName: 'tripleo_netapp_nfs'
    CinderNetappStorageProtocol: 'nfs'
    CinderNetappVfiler: ''
    CinderNetappVserver: ''
    CinderNetappPartnerBackendName: ''
    CinderNetappNfsSharesConfig: '/etc/cinder/shares.conf'
{% endif %}
