{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "c505d455_7fecb2f0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1017127
      },
      "writtenOn": "2022-07-06T20:42:31Z",
      "side": 1,
      "message": "Would like to address Luigi\u0027s recommendation before moving forward.",
      "revId": "051c4cf61e188b1d34fa8d3f7a58e0dcf4845aa8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4f34cb32_41f25604",
        "filename": "plugins/tripleo-overcloud/files/generate_baremetal_deployment_from_roles_data.py",
        "patchSetId": 9
      },
      "lineNbr": 174,
      "author": {
        "id": 1016110
      },
      "writtenOn": "2022-07-06T12:43:35Z",
      "side": 1,
      "message": "does the name of this parameter need to be linked to DVR? Can\u0027t it just be --external-network? Then it is used at least in the dvr case",
      "revId": "051c4cf61e188b1d34fa8d3f7a58e0dcf4845aa8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e0b801e7_9a438972",
        "filename": "plugins/tripleo-overcloud/files/generate_baremetal_deployment_from_roles_data.py",
        "patchSetId": 9
      },
      "lineNbr": 174,
      "author": {
        "id": 1017127
      },
      "writtenOn": "2022-07-06T14:17:25Z",
      "side": 1,
      "message": "It\u0027s only required when DVR is enabled, so if the help message is left the way it is or expanding upon to highlight it is only meant for DVR cases then I think it\u0027s ok to change the parameter name.",
      "parentUuid": "4f34cb32_41f25604",
      "revId": "051c4cf61e188b1d34fa8d3f7a58e0dcf4845aa8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "082597a4_62966ffe",
        "filename": "plugins/tripleo-overcloud/files/generate_baremetal_deployment_from_roles_data.py",
        "patchSetId": 9
      },
      "lineNbr": 174,
      "author": {
        "id": 1016110
      },
      "writtenOn": "2022-07-06T15:02:32Z",
      "side": 1,
      "message": "I\u0027d say we can keep the name of the parameter generic.\ndvr-external-network may be read as \"the network used for DVR\" (which is not the case here).\nLet\u0027s put it another way: if we had another use for the external network parameter, regardless of DVR or not, would we need to create an additional parameter? If the answer is \"we wouldn\u0027t\", then this is a good reason to not mention dvr in the name of the parameter. In fact that\u0027s the external network: how and when it\u0027s used it\u0027s up to the code internals. IMHO.",
      "parentUuid": "e0b801e7_9a438972",
      "revId": "051c4cf61e188b1d34fa8d3f7a58e0dcf4845aa8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "74e9197c_7df34e5f",
        "filename": "plugins/tripleo-overcloud/files/generate_baremetal_deployment_from_roles_data.py",
        "patchSetId": 9
      },
      "lineNbr": 174,
      "author": {
        "id": 1017127
      },
      "writtenOn": "2022-07-06T20:11:06Z",
      "side": 1,
      "message": "I think if we want to go fully generic it would require some logic changes in the script as well. The script would need to have the IR value from either install.network.dvr or install.network.force.compute.dvr passed and processed as an argument to the script.  I think this would result in the parameter being split like below:\n\n    parser.add_argument(\u0027-n\u0027, \u0027--external-network\u0027, nargs\u003d\u0027?\u0027,\n                        const\u003d\u0027external\u0027, type\u003dstr,\n                        help\u003d\u0027Name of external network used by deployment\u0027)\n    parser.add_argument(\u0027-d\u0027, \u0027--dvr-enabled\u0027, default\u003d\u0027False\u0027, action\u003d\u0027store_true\u0027,\n                        help\u003d\u0027Whether DVR is enabled or not for deployment\u0027)\n\n\n#L73-74 would then need to change to something like: \n\nif \u0027compute\u0027 in self._tags and self._dvr_enabled:\n  parsed_nets[self._external_network] \u003d {}\n  \nIf you are ok with splitting the variable and the above approach I can work on the changes later this week.",
      "parentUuid": "082597a4_62966ffe",
      "revId": "051c4cf61e188b1d34fa8d3f7a58e0dcf4845aa8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3313c0c6_e57baa25",
        "filename": "plugins/tripleo-overcloud/files/generate_baremetal_deployment_from_roles_data.py",
        "patchSetId": 9
      },
      "lineNbr": 174,
      "author": {
        "id": 1016110
      },
      "writtenOn": "2022-07-06T20:31:20Z",
      "side": 1,
      "message": "It looks good, thanks. If you don\u0027t mind, yes, please!",
      "parentUuid": "74e9197c_7df34e5f",
      "revId": "051c4cf61e188b1d34fa8d3f7a58e0dcf4845aa8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4e2676ff_9f94a21a",
        "filename": "plugins/tripleo-overcloud/files/generate_baremetal_deployment_from_roles_data.py",
        "patchSetId": 9
      },
      "lineNbr": 174,
      "author": {
        "id": 1017127
      },
      "writtenOn": "2022-07-06T20:42:04Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "3313c0c6_e57baa25",
      "revId": "051c4cf61e188b1d34fa8d3f7a58e0dcf4845aa8",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}