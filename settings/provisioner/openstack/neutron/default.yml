---
# This is the most common network topology for OpenStack Testing deployments

networks:
    data:
        name: 'data'
    external:
        name: 'external'
    management: 
        name: 'management'

subnets:
    data:
        name: "{{ !lookup provisioner.neutron.networks.data.name }}"
        network_name: "{{ !lookup provisioner.neutron.networks.data.name }}"
        allocation_pool_start: 192.0.2.10
        allocation_pool_end: 192.0.2.100
        cidr: 192.0.2.0/24
        enable_dhcp: no
    external:
        name: "{{ !lookup provisioner.neutron.networks.external.name }}"
        network_name: "{{ !lookup provisioner.neutron.networks.external.name }}"
        allocation_pool_start: 172.16.0.10
        allocation_pool_end: 172.16.0.100
        cidr: 172.16.0.0/24
    management:
        name: "{{ !lookup provisioner.neutron.networks.management.name }}"
        network_name: "{{ !lookup provisioner.neutron.networks.management.name }}"
        allocation_pool_start: 10.0.0.10
        allocation_pool_end: 10.0.0.100
        cidr: 10.0.0.0/24

routers:
    router:
        name: 'router'
        attach_subnets:
            - "{{ !lookup provisioner.neutron.networks.external.name }}"
            - "{{ !lookup provisioner.neutron.networks.management.name }}"
