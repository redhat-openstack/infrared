{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "d74a3628_3e930ec7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1003043
      },
      "writtenOn": "2021-07-28T13:43:12Z",
      "side": 1,
      "message": "recheck",
      "revId": "17cfa7c9ce584ab6da56dec8f60b13a8664f62d1",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "86fee8fb_d164ac3d",
        "filename": "plugins/tripleo-overcloud/vars/deployment/files/virt/network/baremetal_deployment.yaml.j2",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1007436
      },
      "writtenOn": "2021-07-28T15:44:35Z",
      "side": 1,
      "message": "I\u0027ve also found that the baremetal configuration needs to have cloud-init disabled so that the nodes survive a reboot: https://github.com/cloudnull/tripleo-deployment-templates/blob/main/baremetal-config.yaml#L17-L20",
      "revId": "17cfa7c9ce584ab6da56dec8f60b13a8664f62d1",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "86120d61_b287b21d",
        "filename": "plugins/tripleo-overcloud/vars/deployment/files/virt/network/baremetal_deployment.yaml.j2",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1003043
      },
      "writtenOn": "2021-07-29T10:14:07Z",
      "side": 1,
      "message": "Do you use openstack nodes (with active config service) for testing  ?\nOur env does not have any external cloud-config noise, if it happens in our env, it is certainly a BUG in the product. Unlikely we want to ask all users to add these to the configs, the product by default should work.",
      "parentUuid": "86fee8fb_d164ac3d",
      "revId": "17cfa7c9ce584ab6da56dec8f60b13a8664f62d1",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f060a11e_316ff6b1",
        "filename": "plugins/tripleo-overcloud/vars/deployment/files/virt/network/baremetal_deployment.yaml.j2",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1007436
      },
      "writtenOn": "2021-07-29T12:59:57Z",
      "side": 1,
      "message": "There\u0027s a long thread within the #tripleo where we were talking about this the other week. The TL;DR is that everything will work on greenfield, however, the OVS interfaces wont survive a reboot. Network-Scripts and OVS run before cloud-init, when cloud-init runs it tries to rename interfaces and breaks OVS. Disabling it as mentioned above will allow cloud-init to run once, as expected, and then ensure it doesn\u0027t cause issues later on.",
      "parentUuid": "86120d61_b287b21d",
      "revId": "17cfa7c9ce584ab6da56dec8f60b13a8664f62d1",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cf77876b_cabf8ba0",
        "filename": "plugins/tripleo-overcloud/vars/deployment/files/virt/network/baremetal_deployment.yaml.j2",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1003043
      },
      "writtenOn": "2021-08-09T05:46:18Z",
      "side": 1,
      "message": "This sounds like a workaround for a BUG.\nCan you create a downstream bugzilla entry for this issue ?",
      "parentUuid": "f060a11e_316ff6b1",
      "revId": "17cfa7c9ce584ab6da56dec8f60b13a8664f62d1",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d31a90fe_4dc57188",
        "filename": "plugins/tripleo-overcloud/vars/deployment/files/virt/network/baremetal_deployment.yaml.j2",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1004460
      },
      "writtenOn": "2021-08-09T05:58:27Z",
      "side": 1,
      "message": "I think there is already a BZ https://bugzilla.redhat.com/show_bug.cgi?id\u003d1773642 with DFG:HardProv.",
      "parentUuid": "cf77876b_cabf8ba0",
      "revId": "17cfa7c9ce584ab6da56dec8f60b13a8664f62d1",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a08d4a42_7fc84c58",
        "filename": "plugins/tripleo-overcloud/vars/deployment/files/virt/network/baremetal_deployment.yaml.j2",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1003043
      },
      "writtenOn": "2021-08-09T10:37:44Z",
      "side": 1,
      "message": "This is reported against osp13 2 years ago and we do not have workaround in CI for that issue, therefore I do not need to add on now in the name of moving to v2.\n\nI think the bug is valid, also seen some \"strange boots\" with osp17.\nThe basic jobs (mostly) can pass without this hack.\nLet\u0027s wait with adding this hack until we have some CI logs when it happening and escalate the issue. Otherwise, I do not see the bug get enough attention even tough it affects end users.\n\nIt might not get a fix for old versions, but it should get fixed in newer.",
      "parentUuid": "d31a90fe_4dc57188",
      "revId": "17cfa7c9ce584ab6da56dec8f60b13a8664f62d1",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "236accfb_7a43cdc5",
        "filename": "plugins/tripleo-overcloud/vars/deployment/files/virt/network/baremetal_deployment.yaml.j2",
        "patchSetId": 9
      },
      "lineNbr": 13,
      "author": {
        "id": 1007436
      },
      "writtenOn": "2021-07-28T15:44:35Z",
      "side": 1,
      "message": "I believe the subnet used needs to be explicitly included.\n\nhttps://github.com/cloudnull/tripleo-deployment-templates/blob/main/baremetal-config.yaml#L29-L39",
      "revId": "17cfa7c9ce584ab6da56dec8f60b13a8664f62d1",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e67eb2d7_53b90e69",
        "filename": "plugins/tripleo-overcloud/vars/deployment/files/virt/network/baremetal_deployment.yaml.j2",
        "patchSetId": 9
      },
      "lineNbr": 13,
      "author": {
        "id": 1003043
      },
      "writtenOn": "2021-07-29T10:14:07Z",
      "side": 1,
      "message": "I removed subnets from expert (maybe it was different) becuse it was rejected.\nLooks like now it taking the arguments ASIS.",
      "parentUuid": "236accfb_7a43cdc5",
      "revId": "17cfa7c9ce584ab6da56dec8f60b13a8664f62d1",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "13d239a2_d511505b",
        "filename": "plugins/tripleo-overcloud/vars/deployment/files/virt/network/baremetal_deployment.yaml.j2",
        "patchSetId": 9
      },
      "lineNbr": 60,
      "author": {
        "id": 1007436
      },
      "writtenOn": "2021-07-28T15:44:35Z",
      "side": 1,
      "message": "I dont believe any of the interface and bridge options are needed\n\n      network_deployment_actions:\n      - CREATE\n      physical_bridge_name: br-ex\n      public_interface_name: nic1\n\nall of these should be covered in your network templates.",
      "revId": "17cfa7c9ce584ab6da56dec8f60b13a8664f62d1",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c9c5a08d_b0e43107",
        "filename": "plugins/tripleo-overcloud/vars/deployment/files/virt/network/baremetal_deployment.yaml.j2",
        "patchSetId": 9
      },
      "lineNbr": 60,
      "author": {
        "id": 1003043
      },
      "writtenOn": "2021-07-29T10:14:07Z",
      "side": 1,
      "message": "This is whet the export utility gave me.\n\u0027neutron_physical_bridge_name\u0027 is used in the templates , is it unrelated ?\n\n\"public_interface_name: nic1\" is it a default behavior ?\n\nAnyway, we can try to remove them .",
      "parentUuid": "13d239a2_d511505b",
      "revId": "17cfa7c9ce584ab6da56dec8f60b13a8664f62d1",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d69e30ee_91c8319d",
        "filename": "plugins/tripleo-overcloud/vars/deployment/files/virt/network/network_data_v2.yaml.j2",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1007436
      },
      "writtenOn": "2021-07-28T14:49:03Z",
      "side": 1,
      "message": "if we have an exist net-data file, which is known to work in 16, we can convert that data automatically using the following tool: https://github.com/openstack/tripleo-heat-templates/blob/master/tools/convert_v1_net_data.py",
      "revId": "17cfa7c9ce584ab6da56dec8f60b13a8664f62d1",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "59afb65f_bfb28f80",
        "filename": "plugins/tripleo-overcloud/vars/deployment/files/virt/network/network_data_v2.yaml.j2",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1007436
      },
      "writtenOn": "2021-07-28T15:02:15Z",
      "side": 1,
      "message": "there doesn\u0027t seem to be anything here that is jinja2 so I suspect this all can be a static YAML file.",
      "parentUuid": "d69e30ee_91c8319d",
      "revId": "17cfa7c9ce584ab6da56dec8f60b13a8664f62d1",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5e5fa883_cb240cf2",
        "filename": "plugins/tripleo-overcloud/vars/deployment/files/virt/network/network_data_v2.yaml.j2",
        "patchSetId": 9
      },
      "lineNbr": 34,
      "author": {
        "id": 1007436
      },
      "writtenOn": "2021-07-28T14:49:03Z",
      "side": 1,
      "message": "unless the routes are used, this can probably be omitted across the board.",
      "revId": "17cfa7c9ce584ab6da56dec8f60b13a8664f62d1",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b22dbeef_d57e9764",
        "filename": "plugins/tripleo-overcloud/vars/deployment/files/virt/network/network_data_v2.yaml.j2",
        "patchSetId": 9
      },
      "lineNbr": 37,
      "author": {
        "id": 1007436
      },
      "writtenOn": "2021-07-28T14:49:03Z",
      "side": 1,
      "message": "IDK if it is \"needed\" but in my net-data files I\u0027ve set `vip: false` on all networks to specifically tell the system a vip isn\u0027t required.",
      "revId": "17cfa7c9ce584ab6da56dec8f60b13a8664f62d1",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "06b2c6d1_ec066895",
        "filename": "plugins/tripleo-overcloud/vars/deployment/files/virt/network/network_data_v2.yaml.j2",
        "patchSetId": 9
      },
      "lineNbr": 37,
      "author": {
        "id": 1003043
      },
      "writtenOn": "2021-07-28T14:58:17Z",
      "side": 1,
      "message": "These files are mostly exported from 16.2 phase1 after partial undercloud upgrade to 17 in order to run some export utility.\n\nThe difference in vip config in the export:\n - external vip was in most examples, so I added one\n - the ips removed from the VIP config to allow the system select an available.\n - dns name was null after export so that  part was dropped . (the new system did not recognized the null arg)",
      "parentUuid": "b22dbeef_d57e9764",
      "revId": "17cfa7c9ce584ab6da56dec8f60b13a8664f62d1",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}