{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "2939e833_a452c99a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 10
      },
      "lineNbr": 0,
      "author": {
        "id": 1014216
      },
      "writtenOn": "2025-02-17T10:05:36Z",
      "side": 1,
      "message": "recheck",
      "revId": "28b52a8a09b9872dfc5813c56c1c7044238a3af0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "53ab9882_94e30058",
        "filename": "plugins/tripleo-overcloud/local-nfs-server.yml",
        "patchSetId": 10
      },
      "lineNbr": 42,
      "author": {
        "id": 1016110
      },
      "writtenOn": "2025-02-17T11:30:17Z",
      "side": 1,
      "message": "I would check that this doesn\u0027t break the usage of nova of this - having both the iptables (even in compatibility mode when provided by nftables) and iptables may be problematic.",
      "revId": "28b52a8a09b9872dfc5813c56c1c7044238a3af0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5890b627_160a2860",
        "filename": "plugins/tripleo-overcloud/local-nfs-server.yml",
        "patchSetId": 10
      },
      "lineNbr": 42,
      "author": {
        "id": 1014216
      },
      "writtenOn": "2025-02-17T12:05:06Z",
      "side": 1,
      "message": "I will isolate this snippet using a block with a condition for the Cinder NFS backend, just to be safe.",
      "parentUuid": "53ab9882_94e30058",
      "revId": "28b52a8a09b9872dfc5813c56c1c7044238a3af0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d912f536_d5d696da",
        "filename": "plugins/tripleo-overcloud/local-nfs-server.yml",
        "patchSetId": 10
      },
      "lineNbr": 42,
      "author": {
        "id": 1016110
      },
      "writtenOn": "2025-02-17T13:00:25Z",
      "side": 1,
      "message": "No, please - let\u0027s try to do it properly. There is no reason why this should work when the NFS server is used for cinder but not for nova.",
      "parentUuid": "5890b627_160a2860",
      "revId": "28b52a8a09b9872dfc5813c56c1c7044238a3af0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1a532e49_8cd6d43e",
        "filename": "plugins/tripleo-overcloud/local-nfs-server.yml",
        "patchSetId": 10
      },
      "lineNbr": 42,
      "author": {
        "id": 1014216
      },
      "writtenOn": "2025-02-17T13:19:09Z",
      "side": 1,
      "message": "Actually, I remember running compute tests as part of the POC, and all tests passed successfully.",
      "parentUuid": "d912f536_d5d696da",
      "revId": "28b52a8a09b9872dfc5813c56c1c7044238a3af0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d71b8a74_7a6b7fbb",
        "filename": "plugins/tripleo-overcloud/local-nfs-server.yml",
        "patchSetId": 10
      },
      "lineNbr": 42,
      "author": {
        "id": 1016110
      },
      "writtenOn": "2025-02-17T14:02:06Z",
      "side": 1,
      "message": "But then what about the iptables rules?\nThis is not about compute tests, but running a job where nova uses nfs. In private for more details.",
      "parentUuid": "1a532e49_8cd6d43e",
      "revId": "28b52a8a09b9872dfc5813c56c1c7044238a3af0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5670f9f3_9783d89c",
        "filename": "plugins/tripleo-overcloud/local-nfs-server.yml",
        "patchSetId": 10
      },
      "lineNbr": 42,
      "author": {
        "id": 1016110
      },
      "writtenOn": "2025-03-25T13:32:13Z",
      "side": 1,
      "message": "It seems iptables rules are not needed afteradding the nftables ones, and they seemed to be not working anyway. Can they be removed afterall? Apart from that, +1.",
      "parentUuid": "d71b8a74_7a6b7fbb",
      "revId": "28b52a8a09b9872dfc5813c56c1c7044238a3af0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f4d65e54_30f417d0",
        "filename": "plugins/tripleo-overcloud/local-nfs-server.yml",
        "patchSetId": 10
      },
      "lineNbr": 42,
      "author": {
        "id": 1014216
      },
      "writtenOn": "2025-03-26T06:49:59Z",
      "side": 1,
      "message": "I removed it in the previous patchset, but the job failed while mounting to the share. It\u0027s strange that in 17.1, iptables is required, whereas in 16.2, nftables is needed.\nI\u0027m not sure why this behavior occurs.",
      "parentUuid": "5670f9f3_9783d89c",
      "revId": "28b52a8a09b9872dfc5813c56c1c7044238a3af0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "41f6778a_c79dae97",
        "filename": "plugins/tripleo-overcloud/local-nfs-server.yml",
        "patchSetId": 10
      },
      "lineNbr": 42,
      "author": {
        "id": 1016110
      },
      "writtenOn": "2025-03-26T09:19:17Z",
      "side": 1,
      "message": "Uhm, maybe the different version of ansible used implement different level of compatibility of the iptables task. Ok.",
      "parentUuid": "f4d65e54_30f417d0",
      "revId": "28b52a8a09b9872dfc5813c56c1c7044238a3af0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bf99015b_7a62b1b6",
        "filename": "plugins/tripleo-overcloud/tasks/storage/nfs.yml",
        "patchSetId": 10
      },
      "lineNbr": 15,
      "author": {
        "id": 1016110
      },
      "writtenOn": "2025-02-17T11:19:56Z",
      "side": 1,
      "message": "infrared is branched, this check against the OSP version is not needed",
      "revId": "28b52a8a09b9872dfc5813c56c1c7044238a3af0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8626bfa6_b0cee482",
        "filename": "plugins/tripleo-overcloud/tasks/storage/nfs.yml",
        "patchSetId": 10
      },
      "lineNbr": 15,
      "author": {
        "id": 1014216
      },
      "writtenOn": "2025-02-17T12:05:06Z",
      "side": 1,
      "message": "Thanks\nI\u0027ll removed it",
      "parentUuid": "bf99015b_7a62b1b6",
      "revId": "28b52a8a09b9872dfc5813c56c1c7044238a3af0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8cd926c8_f01a4a21",
        "filename": "plugins/tripleo-overcloud/templates/storage/cinder-nfs-custom.yml.j2",
        "patchSetId": 10
      },
      "lineNbr": 2,
      "author": {
        "id": 1016110
      },
      "writtenOn": "2025-02-17T11:19:56Z",
      "side": 1,
      "message": "Shouldn\u0027t this address by dynamically computed? Or is this always the hypervisor address?\nAs this is not a template, shouldn\u0027t it be moved as file?",
      "revId": "28b52a8a09b9872dfc5813c56c1c7044238a3af0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1b9d7b2f_63395f65",
        "filename": "plugins/tripleo-overcloud/templates/storage/cinder-nfs-custom.yml.j2",
        "patchSetId": 10
      },
      "lineNbr": 2,
      "author": {
        "id": 1014216
      },
      "writtenOn": "2025-02-17T12:05:06Z",
      "side": 1,
      "message": "I think it\u0027s preferable to add a new configuration option in plugin.spec for Cinder, just as Compute did.",
      "parentUuid": "8cd926c8_f01a4a21",
      "revId": "28b52a8a09b9872dfc5813c56c1c7044238a3af0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}