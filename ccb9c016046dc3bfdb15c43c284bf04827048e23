{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "fd3a443a_13c2716d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 38
      },
      "lineNbr": 0,
      "author": {
        "id": 1017759
      },
      "writtenOn": "2021-01-10T15:08:06Z",
      "side": 1,
      "message": "recheck openstack",
      "revId": "ccb9c016046dc3bfdb15c43c284bf04827048e23",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d4f517fe_e27fcdb1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 38
      },
      "lineNbr": 0,
      "author": {
        "id": 1017759
      },
      "writtenOn": "2021-01-13T10:21:11Z",
      "side": 1,
      "message": "recheck openstack",
      "revId": "ccb9c016046dc3bfdb15c43c284bf04827048e23",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "aec8e30b_e18963c9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 38
      },
      "lineNbr": 0,
      "author": {
        "id": 1016110
      },
      "writtenOn": "2021-02-21T11:32:31Z",
      "side": 1,
      "message": "Belated -1.\n\nThis change contains a lot of big and smaller changes whose:\n- should be refactored to be more maintaible\n- should have been splitted in their own changes\n- their need is unclear, because there is NO COMMIT message. No, a single line is not a commit message.\nPlease go through:\nhttps://chris.beams.io/posts/git-commit/\n\nI\u0027d recommend a revert of this change, in order to be properly redone.",
      "revId": "ccb9c016046dc3bfdb15c43c284bf04827048e23",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6ead3f53_bab59af8",
        "filename": "plugins/tempest/tasks/configure/method/pip.yml",
        "patchSetId": 38
      },
      "lineNbr": 13,
      "author": {
        "id": 1016110
      },
      "writtenOn": "2021-02-21T11:32:31Z",
      "side": 1,
      "message": "are those changes really needed?",
      "revId": "ccb9c016046dc3bfdb15c43c284bf04827048e23",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fc7f59b2_4cb12005",
        "filename": "plugins/tempest/tasks/configure/method/pip.yml",
        "patchSetId": 38
      },
      "lineNbr": 13,
      "author": {
        "id": 1017759
      },
      "writtenOn": "2022-09-22T12:50:39Z",
      "side": 1,
      "message": "Installation of tempest via pip didn\u0027t worked as expected, during my research I found out that there are two different virtualenvs created. I tried my best to merge them.",
      "parentUuid": "6ead3f53_bab59af8",
      "revId": "ccb9c016046dc3bfdb15c43c284bf04827048e23",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "87e87536_c8779582",
        "filename": "plugins/tempest/tasks/configure/method/pip.yml",
        "patchSetId": 38
      },
      "lineNbr": 13,
      "author": {
        "id": 1016110
      },
      "writtenOn": "2022-09-22T12:57:14Z",
      "side": 1,
      "message": "Right, but this is unrelated to this CDN issue - it would be useful to test this change separately.",
      "parentUuid": "fc7f59b2_4cb12005",
      "revId": "ccb9c016046dc3bfdb15c43c284bf04827048e23",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "54c5f3b2_4ecbdce8",
        "filename": "plugins/tempest/tasks/configure/run.yml",
        "patchSetId": 38
      },
      "lineNbr": 41,
      "author": {
        "id": 1016110
      },
      "writtenOn": "2021-02-21T11:32:31Z",
      "side": 1,
      "message": "debug statement, they shouldn\u0027t be in the final code",
      "revId": "ccb9c016046dc3bfdb15c43c284bf04827048e23",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "01d49ce5_04352fd4",
        "filename": "plugins/tempest/tasks/configure/run.yml",
        "patchSetId": 38
      },
      "lineNbr": 41,
      "author": {
        "id": 1017759
      },
      "writtenOn": "2022-09-22T12:50:39Z",
      "side": 1,
      "message": "Agree, I will release a new change that will remove them along with other issues in the code",
      "parentUuid": "54c5f3b2_4ecbdce8",
      "revId": "ccb9c016046dc3bfdb15c43c284bf04827048e23",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "516aab57_5bf08d03",
        "filename": "plugins/tempest/tasks/setup/pip/main.yml",
        "patchSetId": 38
      },
      "lineNbr": 1,
      "author": {
        "id": 1016110
      },
      "writtenOn": "2021-02-21T11:32:31Z",
      "side": 1,
      "message": "Instead of repeating this code over and over, you should move it to a task/role which saves a fact, and calls that just once at the beginning of the tempest infrared plugin",
      "revId": "ccb9c016046dc3bfdb15c43c284bf04827048e23",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "256170da_117ca791",
        "filename": "plugins/tempest/tasks/setup/pip/main.yml",
        "patchSetId": 38
      },
      "lineNbr": 18,
      "author": {
        "id": 1016110
      },
      "writtenOn": "2021-02-21T11:32:31Z",
      "side": 1,
      "message": "This means the unittest repository won\u0027t be installed, but something may break without it. This shouldn\u0027t work like this.",
      "revId": "ccb9c016046dc3bfdb15c43c284bf04827048e23",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "15f64f35_53ab1e07",
        "filename": "plugins/tempest/tasks/setup/pip/main.yml",
        "patchSetId": 38
      },
      "lineNbr": 18,
      "author": {
        "id": 1017759
      },
      "writtenOn": "2022-09-22T12:50:39Z",
      "side": 1,
      "message": "It won\u0027t be installed when CDN is configured, but then the package would be acquired from CDN, hence no need in repository (which also cannot be configured in this case).",
      "parentUuid": "256170da_117ca791",
      "revId": "ccb9c016046dc3bfdb15c43c284bf04827048e23",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "163b7822_39182e8e",
        "filename": "plugins/tempest/tasks/setup/pip/main.yml",
        "patchSetId": 38
      },
      "lineNbr": 18,
      "author": {
        "id": 1016110
      },
      "writtenOn": "2022-09-22T12:57:14Z",
      "side": 1,
      "message": "I\u0027m not sure those packages are available through the CDN. The reason for those special unittest repositories is that the packages they include are not shipped with OSP. I still think something else can break.",
      "parentUuid": "15f64f35_53ab1e07",
      "revId": "ccb9c016046dc3bfdb15c43c284bf04827048e23",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f3903339_562c83b1",
        "filename": "plugins/tempest/tasks/setup/rpm/main.yml",
        "patchSetId": 38
      },
      "lineNbr": 9,
      "author": {
        "id": 1016110
      },
      "writtenOn": "2021-02-21T11:32:31Z",
      "side": 1,
      "message": "instead of duplicating the same task code, just set a fact with the name of the tempest package.\n\nset fact tempest_package_name to openstack-tempest\nif test.rpm.package is defined and not empty, set tempest_package_name to test.rpm.package\n\nand use tempest_package_name in the task. Definitely better than cloning the same code.\n\n(not sure why it needs to be different, as regardless of the origin, CDN or not, it is always openstack-tempest, but anyway)",
      "revId": "ccb9c016046dc3bfdb15c43c284bf04827048e23",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3b3ecaaa_5ccfcfc7",
        "filename": "plugins/tempest/tasks/setup/rpm/main.yml",
        "patchSetId": 38
      },
      "lineNbr": 9,
      "author": {
        "id": 1017759
      },
      "writtenOn": "2022-09-22T12:50:39Z",
      "side": 1,
      "message": "test.rpm.package is a URI to tempest RPM. Hence they are differen.",
      "parentUuid": "f3903339_562c83b1",
      "revId": "ccb9c016046dc3bfdb15c43c284bf04827048e23",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "488b6d56_2789940b",
        "filename": "plugins/tempest/tasks/setup/rpm/main.yml",
        "patchSetId": 38
      },
      "lineNbr": 9,
      "author": {
        "id": 1016110
      },
      "writtenOn": "2022-09-22T12:57:14Z",
      "side": 1,
      "message": "Yes, but my point is different. I\u0027m saying that the logic could be something along the line of (not correct code):\n\n- set_fact:\n     tempest_package: {{ test.rpm.package is undefined or test.rpm.package|length \u003d\u003d 0? \"openstack-tempest\" : test.rpm.package }}\n     \n- name: Install tempest from rpm\n  become: yes\n  package:\n      name: {{ tempest_package }}\n      state: present\n  register: tempest_rpm\n  \nso that you don\u0027t need to duplicate the \"package\" task.",
      "parentUuid": "3b3ecaaa_5ccfcfc7",
      "revId": "ccb9c016046dc3bfdb15c43c284bf04827048e23",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}