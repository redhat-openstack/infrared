{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "ab0df422_3b53b1d7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1012743
      },
      "writtenOn": "2021-12-02T19:39:05Z",
      "side": 1,
      "message": "Jobs pass for OSP 17 and OSP 10 (no impact on any tempest tests from remvoing RetryFilter). Ready to merge",
      "revId": "4ec09a3c372c94166bb411c499cce90ac10b404a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "668b2373_f3b5c5a3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1019223
      },
      "writtenOn": "2021-12-02T20:13:30Z",
      "side": 1,
      "message": "It looks like the only changes are removing checks for OSP versions less than 13.  HardProv does not have any Phase3 jobs that run against any OSP version less than 13 so I don\u0027t see how it could impact our downstream jobs/tests.",
      "revId": "4ec09a3c372c94166bb411c499cce90ac10b404a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e7728fbf_57a050b3",
        "filename": "plugins/tripleo-overcloud/vars/overcloud/templates/ironic.yml",
        "patchSetId": 4
      },
      "lineNbr": 13,
      "author": {
        "id": 1010634
      },
      "writtenOn": "2021-12-02T17:16:14Z",
      "side": 1,
      "message": "since it\u0027s a template and not yaml I think something as Tosky suggested may work:\n\n            {% if condition %} - RetryFilter {% endif %}",
      "range": {
        "startLine": 13,
        "startChar": 7,
        "endLine": 13,
        "endChar": 26
      },
      "revId": "4ec09a3c372c94166bb411c499cce90ac10b404a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "00ec3ab9_f2104b9d",
        "filename": "plugins/tripleo-overcloud/vars/overcloud/templates/ironic.yml",
        "patchSetId": 4
      },
      "lineNbr": 13,
      "author": {
        "id": 1012743
      },
      "writtenOn": "2021-12-02T19:38:27Z",
      "side": 1,
      "message": "i did try that, same error appears, the latest PS #4 works and passes the jobs",
      "parentUuid": "e7728fbf_57a050b3",
      "range": {
        "startLine": 13,
        "startChar": 7,
        "endLine": 13,
        "endChar": 26
      },
      "revId": "4ec09a3c372c94166bb411c499cce90ac10b404a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f314e897_85e31896",
        "filename": "plugins/tripleo-overcloud/vars/overcloud/templates/ironic.yml",
        "patchSetId": 4
      },
      "lineNbr": 13,
      "author": {
        "id": 1012743
      },
      "writtenOn": "2021-12-02T19:41:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "00ec3ab9_f2104b9d",
      "range": {
        "startLine": 13,
        "startChar": 7,
        "endLine": 13,
        "endChar": 26
      },
      "revId": "4ec09a3c372c94166bb411c499cce90ac10b404a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a97c276a_04b6f49a",
        "filename": "plugins/tripleo-overcloud/vars/overcloud/templates/ironic.yml",
        "patchSetId": 4
      },
      "lineNbr": 13,
      "author": {
        "id": 1012743
      },
      "writtenOn": "2021-12-02T19:50:41Z",
      "side": 1,
      "message": "Test:\n NovaSchedulerDefaultFilters:\n        \"{% if (17 \u003c 13) %} - RetryFilter {% endif %}\"\n\nOR\n\n    NovaSchedulerDefaultFilters:\n        {% if (17 \u003c 13) %} - RetryFilter {% endif %}\n\nResults (same for both):\n\nTASK [include_vars] **************************************************************************************************************************************************************************************************************************\nfatal: [localhost]: FAILED! \u003d\u003e {\"ansible_facts\": {\"current_file\": {}}, \"ansible_included_var_files\": [], \"changed\": false, \"message\": \"We were unable to read either as JSON nor YAML, these are the errors we got from each:\\nJSON: Expecting value: line 1 column 1 (char 0)\\n\\nSyntax Error while loading YAML.\\n  did not find expected key\\n\\nThe error appears to be in \u0027\u003cjob-name\u003e/infrared/plugins/tripleo-overcloud/vars/overcloud/templates/set-nova-scheduler-filter.yml\u0027: line 9, column 9, but may\\nbe elsewhere in the file depending on the exact syntax problem.\\n\\nThe offending line appears to be:\\n\\n        \\\"{% if condition %} - RetryFilter {% endif %}\\\"\\n        - AggregateInstanceExtraSpecsFilter\\n        ^ here\\n\"}",
      "parentUuid": "f314e897_85e31896",
      "range": {
        "startLine": 13,
        "startChar": 7,
        "endLine": 13,
        "endChar": 26
      },
      "revId": "4ec09a3c372c94166bb411c499cce90ac10b404a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "023e9dba_a9f112e1",
        "filename": "plugins/tripleo-overcloud/vars/overcloud/templates/ironic.yml",
        "patchSetId": 4
      },
      "lineNbr": 13,
      "author": {
        "id": 1010634
      },
      "writtenOn": "2021-12-02T20:39:13Z",
      "side": 1,
      "message": "can you add such if condition as the last in this list so if the condition is not met it will generate an empty line (which is acceptable I\u0027m sure) ? \n\nI take note that we don\u0027t want to maintain the code for osp10 as we pull the plug on it on Thu 2021-12-16 - as per https://pp.engineering.redhat.com/pp/product/rhosp/release/rhosp-10.0/schedule/overview?range[start]\u003d2016-04-06\u0026range[end]\u003d2022-01-12\u0026filters\u003ddefault,show-maintenance\u0026groupsLabels\u003dshortname\u0026stack\u003doneLinePhases\u0026groupSort\u003dga\u0026showStatus\u003dfalse\u0026showGAdates\u003dfalse\u0026showOutages\u003dtrue\u0026releases\u003drhosp-10.0\n\nbut I\u0027m not clear on the retryfilter on osp13 (EOS in 2023, not soon) ... as per my understanding the RetryFilter _is_ present in Rocky upstream (https://docs.openstack.org/nova/rocky/user/filter-scheduler.html) hence in queens (the osp13 that is) too - could anyone confirm/clarify we really don\u0027t use RetryFilter in osp13 hence we don\u0027t want it here? (and, to state the obvious, we sure customers don\u0027t use it so we don\u0027t need to test it) ...\n\nthanks",
      "parentUuid": "a97c276a_04b6f49a",
      "range": {
        "startLine": 13,
        "startChar": 7,
        "endLine": 13,
        "endChar": 26
      },
      "revId": "4ec09a3c372c94166bb411c499cce90ac10b404a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}