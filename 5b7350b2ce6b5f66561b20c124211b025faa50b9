{
  "comments": [
    {
      "key": {
        "uuid": "898fac52_496678ff",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 14,
      "author": {
        "id": 1007615
      },
      "writtenOn": "2020-09-21T10:46:12Z",
      "side": 1,
      "message": "I think you can\"t avoid overlap by simply by changing the allocation pool in this file because currently it  is used both by overcloud_deploy, which sets up storage_nfs_subnet in the undercloud (that network is defined in the undercloud as it deploys the overcloud and allocations are made for interfaces on the Controllers and the NFS service VIP) and post-deployment via the cloud-config plugin when it sets up the overcloud Neutron StorageNFS provider network (which is used for VMs).\n\nTo fix, this file should define a range that is a proper part of the CIDR and the cloud-config code should set up a range that does not overlap with the range here, a range that is a different proper part of the same CIDR.",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 14,
        "endChar": 11
      },
      "revId": "5b7350b2ce6b5f66561b20c124211b025faa50b9",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ca9f623c_8d8ca88a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 14,
      "author": {
        "id": 1014216
      },
      "writtenOn": "2020-09-21T11:01:39Z",
      "side": 1,
      "message": "cloud-config takes from this template the allocation range for\nStorageNFSSubnet.\nThis range is ok?\n\u0027start\u0027: \u0027fd00:fd00:fd00:7000::5\u0027, \u0027end\u0027: \u0027fd00:fd00:fd00:7000::9\u0027",
      "parentUuid": "898fac52_496678ff",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 14,
        "endChar": 11
      },
      "revId": "5b7350b2ce6b5f66561b20c124211b025faa50b9",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b2afc92d_0f4b1e55",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 14,
      "author": {
        "id": 1007615
      },
      "writtenOn": "2020-09-21T11:41:33Z",
      "side": 1,
      "message": "For which use, overcloud_deploy or in the cloud-config?\nThe point is, you cannot use the same range (or an overlapping range) for both and just changing it here doesn\u0027t solve that problem.\ncloud-config cannot just pick up a range from here and use it because overcloud_deploy command already uses the range that is defined in this file.\nThe range you suggest would be fine here if cloud-config then uses a different, non-overlapping range from the same CIDR, e.g. fd00:fd00:fd00:7000::a through fd00:fd00:fd00:7000:ffff:ffff:ffff:fffe",
      "parentUuid": "ca9f623c_8d8ca88a",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 14,
        "endChar": 11
      },
      "revId": "5b7350b2ce6b5f66561b20c124211b025faa50b9",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b1698629_e5864295",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 14,
      "author": {
        "id": 1014216
      },
      "writtenOn": "2020-09-21T12:15:38Z",
      "side": 1,
      "message": "I got you.\nSo we should also fix this in ipv4, because we\u0027re doing exactly the\nsame.\nThe fix should be in cloud-config. I\u0027ll uploaded a patch for both\nversions.",
      "parentUuid": "b2afc92d_0f4b1e55",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 14,
        "endChar": 11
      },
      "revId": "5b7350b2ce6b5f66561b20c124211b025faa50b9",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ce309764_794b7f45",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 14,
      "author": {
        "id": 1007615
      },
      "writtenOn": "2020-09-21T14:05:53Z",
      "side": 1,
      "message": "Well InfraRed Ipv4 deploymdents do not have overlapping allocation pools:\n\n[stack@undercloud-0 tbarron]$ source ~/stackrc; openstack subnet show storage_nfs_subnet -v -c allocation_pools\nSTART with options: subnet show storage_nfs_subnet -v -c allocation_pools\ncommand: subnet show -\u003e openstackclient.network.v2.subnet.ShowSubnet (auth\u003dTrue)\n\n+------------------+--------------------------+\n| Field            | Value                    |\n+------------------+--------------------------+\n| allocation_pools | 172.17.5.10-172.17.5.149 |\n+------------------+--------------------------+\n\n[stack@undercloud-0 tbarron]$ source ~/overcloudrc; openstack subnet show StorageNFSSubnet -v -c allocation_pools\n\n+------------------+---------------------------+\n| Field            | Value                     |\n+------------------+---------------------------+\n| allocation_pools | 172.17.5.150-172.17.5.250 |\n+------------------+---------------------------+",
      "parentUuid": "b1698629_e5864295",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 14,
        "endChar": 11
      },
      "revId": "5b7350b2ce6b5f66561b20c124211b025faa50b9",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1843f8c3_e5869563",
        "filename": "plugins/tripleo-overcloud/vars/deployment/files/composable_roles/network/network-environment-v6.yaml.j2",
        "patchSetId": 3
      },
      "lineNbr": 6,
      "author": {
        "id": 1007615
      },
      "writtenOn": "2020-09-21T10:46:12Z",
      "side": 1,
      "message": "This isn\"t part of the fd00:fd00:fd00:7000::/64 CIDR.",
      "range": {
        "startLine": 6,
        "startChar": 31,
        "endLine": 6,
        "endChar": 119
      },
      "revId": "5b7350b2ce6b5f66561b20c124211b025faa50b9",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    }
  ]
}