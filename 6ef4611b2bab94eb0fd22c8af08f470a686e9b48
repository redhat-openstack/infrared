{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "4a9e6bac_40eb8b96",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 12
      },
      "lineNbr": 0,
      "author": {
        "id": 1006992
      },
      "writtenOn": "2022-01-25T22:26:37Z",
      "side": 1,
      "message": "Thanks for making the updates Yogev. A few more ideas below.",
      "revId": "6ef4611b2bab94eb0fd22c8af08f470a686e9b48",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "deb9d16b_e9a9829f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 12
      },
      "lineNbr": 0,
      "author": {
        "id": 1003043
      },
      "writtenOn": "2022-01-26T08:51:50Z",
      "side": 1,
      "message": "Basically this change increases the number of plays -\u003e slowing stuff down.\n\n\"local UC registry\" mentioned the issue, the ceph deploy and the provided containers-prepare-parameter.yaml should handle that, (BZ exist)",
      "revId": "6ef4611b2bab94eb0fd22c8af08f470a686e9b48",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8b0704e4_ace011d1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 12
      },
      "lineNbr": 0,
      "author": {
        "id": 1006992
      },
      "writtenOn": "2022-01-26T11:24:27Z",
      "side": 1,
      "message": "The extra plays can be removed in the next PS.\n\nOtherwise this is a good patch because it follows the same pattern as overcloud deploy script which the user can use to re-run easily. By this patch they can do the same. Let\u0027s address the issues you mentioned in the next PS and try to get this merged.",
      "parentUuid": "deb9d16b_e9a9829f",
      "revId": "6ef4611b2bab94eb0fd22c8af08f470a686e9b48",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "85af070f_a80aafd5",
        "filename": "plugins/tripleo-overcloud/plugin.spec",
        "patchSetId": 12
      },
      "lineNbr": 158,
      "author": {
        "id": 1006992
      },
      "writtenOn": "2022-02-01T21:33:45Z",
      "side": 1,
      "message": "Attila objected to these since, as per an IRC conversation with him Alex and I these parameters can (and for simplicity\u0027s sake, should) be specified in the container image prepare. We can continue that discussion if you like but I think we should not combine it with the move towards having a script script, i.e. lets address that in another patch if you still think it\u0027s important.\n\nI\u0027m going to remove this so it\u0027s more likely for us to land your patch since it will be smaller and we\u0027ll focus on converting the original command into a shell script.",
      "range": {
        "startLine": 158,
        "startChar": 18,
        "endLine": 158,
        "endChar": 35
      },
      "revId": "6ef4611b2bab94eb0fd22c8af08f470a686e9b48",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ec891f4c_84f0580a",
        "filename": "plugins/tripleo-overcloud/plugin.spec",
        "patchSetId": 12
      },
      "lineNbr": 670,
      "author": {
        "id": 1006992
      },
      "writtenOn": "2022-02-01T21:33:45Z",
      "side": 1,
      "message": "Yogev, thanks for this example of how we might pass an initial-ceph.conf in a future patch set. I don\u0027t think we need to give the user the ability to specify their own deployment script though. I\u0027m going to remove this so it\u0027s more likely for us to land your patch since it will be smaller and we\u0027ll focus on converting the original command into a shell script.",
      "range": {
        "startLine": 670,
        "startChar": 18,
        "endLine": 670,
        "endChar": 30
      },
      "revId": "6ef4611b2bab94eb0fd22c8af08f470a686e9b48",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1ce7b141_f749371c",
        "filename": "plugins/tripleo-overcloud/tasks/network.yml",
        "patchSetId": 12
      },
      "lineNbr": 111,
      "author": {
        "id": 1006992
      },
      "writtenOn": "2022-01-25T22:26:37Z",
      "side": 1,
      "message": "These conditions appear to be the same as those on line 101-102.\nIf you want it to run in both cases you could use ansible\u0027s block statement.\n\nRather build the script, then remove and then append, could you build the script using jinja2 conditions and not have these two tasks?",
      "range": {
        "startLine": 110,
        "startChar": 0,
        "endLine": 111,
        "endChar": 55
      },
      "revId": "6ef4611b2bab94eb0fd22c8af08f470a686e9b48",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fa3153d8_0ba84c63",
        "filename": "plugins/tripleo-overcloud/tasks/network.yml",
        "patchSetId": 12
      },
      "lineNbr": 111,
      "author": {
        "id": 1003569
      },
      "writtenOn": "2022-01-26T13:34:54Z",
      "side": 1,
      "message": "Sounds good, I\u0027ll make a task to fix it after this patch is merged",
      "parentUuid": "1ce7b141_f749371c",
      "range": {
        "startLine": 110,
        "startChar": 0,
        "endLine": 111,
        "endChar": 55
      },
      "revId": "6ef4611b2bab94eb0fd22c8af08f470a686e9b48",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cc9130e1_3f25b893",
        "filename": "plugins/tripleo-overcloud/tasks/network.yml",
        "patchSetId": 12
      },
      "lineNbr": 111,
      "author": {
        "id": 1006992
      },
      "writtenOn": "2022-02-01T21:33:45Z",
      "side": 1,
      "message": "We can\u0027t merge this as is since it needs a rebase.\n\nI\u0027m rebasing it and I\u0027m going to remove these lines since we know we know this will only work for networkv2.",
      "parentUuid": "fa3153d8_0ba84c63",
      "range": {
        "startLine": 110,
        "startChar": 0,
        "endLine": 111,
        "endChar": 55
      },
      "revId": "6ef4611b2bab94eb0fd22c8af08f470a686e9b48",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "af2626d9_e7cf8f9e",
        "filename": "plugins/tripleo-overcloud/templates/overcloud_ceph_deploy.sh.j2",
        "patchSetId": 12
      },
      "lineNbr": 7,
      "author": {
        "id": 1003043
      },
      "writtenOn": "2022-01-26T08:51:50Z",
      "side": 1,
      "message": "All ceph container location relevant data supposed to come from containers-prepare-parameter.yaml .\n\nIn case the local registry upload happens the \u0027overcloud ceph deploy\u0027 is is expected to handle to url translation to the undercloud registry.",
      "revId": "6ef4611b2bab94eb0fd22c8af08f470a686e9b48",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ffa4d492_2bc24ac6",
        "filename": "plugins/tripleo-overcloud/templates/overcloud_ceph_deploy.sh.j2",
        "patchSetId": 12
      },
      "lineNbr": 7,
      "author": {
        "id": 1006992
      },
      "writtenOn": "2022-02-01T21:33:45Z",
      "side": 1,
      "message": "OK, let\u0027s do that via containers-prepare-parameter.yaml\n\nAlso, in translating to a shell script we need to keep the --contianer-namespace 192... workaround until BZ 2042973 is resolved.",
      "parentUuid": "af2626d9_e7cf8f9e",
      "revId": "6ef4611b2bab94eb0fd22c8af08f470a686e9b48",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6d3b5c95_8043f22e",
        "filename": "plugins/tripleo-overcloud/templates/overcloud_ceph_deploy.sh.j2",
        "patchSetId": 12
      },
      "lineNbr": 24,
      "author": {
        "id": 1006992
      },
      "writtenOn": "2022-01-25T22:26:37Z",
      "side": 1,
      "message": "Do you want to include the v2 or the older network data file conditionally here?",
      "range": {
        "startLine": 24,
        "startChar": 0,
        "endLine": 24,
        "endChar": 67
      },
      "revId": "6ef4611b2bab94eb0fd22c8af08f470a686e9b48",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "831d88a2_e5985cc7",
        "filename": "plugins/tripleo-overcloud/templates/overcloud_ceph_deploy.sh.j2",
        "patchSetId": 12
      },
      "lineNbr": 24,
      "author": {
        "id": 1003043
      },
      "writtenOn": "2022-01-26T08:51:50Z",
      "side": 1,
      "message": "non v2 does not working/supported with 17.",
      "parentUuid": "6d3b5c95_8043f22e",
      "range": {
        "startLine": 24,
        "startChar": 0,
        "endLine": 24,
        "endChar": 67
      },
      "revId": "6ef4611b2bab94eb0fd22c8af08f470a686e9b48",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7187ac1b_a61b9786",
        "filename": "plugins/tripleo-overcloud/templates/overcloud_ceph_deploy.sh.j2",
        "patchSetId": 12
      },
      "lineNbr": 24,
      "author": {
        "id": 1003569
      },
      "writtenOn": "2022-01-26T13:34:54Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "831d88a2_e5985cc7",
      "range": {
        "startLine": 24,
        "startChar": 0,
        "endLine": 24,
        "endChar": 67
      },
      "revId": "6ef4611b2bab94eb0fd22c8af08f470a686e9b48",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e88fe6e1_c6d0ad2d",
        "filename": "plugins/tripleo-overcloud/templates/overcloud_ceph_deploy.sh.j2",
        "patchSetId": 12
      },
      "lineNbr": 25,
      "author": {
        "id": 1003043
      },
      "writtenOn": "2022-01-26T08:51:50Z",
      "side": 1,
      "message": "in proper condition.",
      "revId": "6ef4611b2bab94eb0fd22c8af08f470a686e9b48",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dd50c800_21f0475c",
        "filename": "plugins/tripleo-overcloud/templates/overcloud_ceph_deploy.sh.j2",
        "patchSetId": 12
      },
      "lineNbr": 25,
      "author": {
        "id": 1003569
      },
      "writtenOn": "2022-01-26T13:34:54Z",
      "side": 1,
      "message": "what do you mean?",
      "parentUuid": "e88fe6e1_c6d0ad2d",
      "revId": "6ef4611b2bab94eb0fd22c8af08f470a686e9b48",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "721bdd83_35775a57",
        "filename": "plugins/tripleo-overcloud/templates/overcloud_ceph_deploy.sh.j2",
        "patchSetId": 12
      },
      "lineNbr": 25,
      "author": {
        "id": 1006992
      },
      "writtenOn": "2022-02-01T16:32:37Z",
      "side": 1,
      "message": "@afazekas If you mean this is an \"improper condition\", would you please suggest what would make it a proper condition?",
      "parentUuid": "dd50c800_21f0475c",
      "revId": "6ef4611b2bab94eb0fd22c8af08f470a686e9b48",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ce368545_d36ccf15",
        "filename": "plugins/tripleo-overcloud/templates/overcloud_ceph_deploy.sh.j2",
        "patchSetId": 12
      },
      "lineNbr": 25,
      "author": {
        "id": 1003043
      },
      "writtenOn": "2022-02-01T16:56:06Z",
      "side": 1,
      "message": "Actually it might work, new gate job might tell if not.\ninstall.role.files is the actual config option where where the role dict is not defined when files is not given. (--role-files)\n\nProbably would be better to also check if \u0027files\u0027 (install.role.files) defined would be also checked,\nin case the dict eventually get another possible config option.\n\nMany condition handles install.role.files\u003d\u003d\u0027default\u0027 specially, I am not sure is it needed to handled specially here.\n\nAlso the previously merged change used stat for roles_data.yaml.",
      "parentUuid": "721bdd83_35775a57",
      "revId": "6ef4611b2bab94eb0fd22c8af08f470a686e9b48",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "86c468c9_6af3e9b4",
        "filename": "plugins/tripleo-overcloud/templates/overcloud_ceph_deploy.sh.j2",
        "patchSetId": 12
      },
      "lineNbr": 25,
      "author": {
        "id": 1006992
      },
      "writtenOn": "2022-02-01T21:33:45Z",
      "side": 1,
      "message": "Let\u0027s focus on moving the command into a shell script and less on changing the command then. I\u0027ll keep it as is from the previously merged change which used stat for roles_data.yaml.",
      "parentUuid": "ce368545_d36ccf15",
      "revId": "6ef4611b2bab94eb0fd22c8af08f470a686e9b48",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}